=================
ALSA BT87x 驱动程序
=================

简介
=====

你可能已经注意到，bt878 捕获卡实际上有两个 PCI 功能：
::

  $ lspci
  [ ... ]
  00:0a.0 多媒体视频控制器: Brooktree Corporation Bt878 (rev 02)
  00:0a.1 多媒体控制器: Brooktree Corporation Bt878 (rev 02)
  [ ... ]

第一个功能是处理视频的，它与 bt848 向后兼容。第二个功能是处理音频的。snd-bt87x 是一个用于第二个功能的驱动程序。它是一个声音驱动程序，可以用来录制声音（但仅限于录制，没有播放功能）。由于大多数电视卡都附带一根可以插入声卡线路输入端口的短电缆，因此如果你只是想看电视的话，你可能不需要这个驱动程序。
一些卡片没有连接任何东西到芯片的音频输入引脚，还有一些卡片使用音频功能来传输 MPEG 视频数据，所以很有可能你的卡片无法使用音频录制功能。

驱动程序状态
=============

该驱动程序现在已经稳定。然而，它并不知道很多电视卡，并且对于它不认识的卡片会拒绝加载。
如果驱动程序抱怨说“发现未知的电视卡，音频驱动程序将不会加载”，你可以指定 `load_all=1` 选项来强制驱动程序尝试使用你的卡片的音频捕获功能。如果录制数据的频率不正确，可以尝试指定 `digital_rate` 选项，将其设置为默认值 32000 以外的其他值（通常是 44100 或 64000）。
如果你有一个未知的卡片，请将 ID 和板卡名称发送到 <alsa-devel@alsa-project.org>，无论音频捕获是否工作，以便未来的版本能够识别你的卡片。

音频模式
===========

芯片支持两种不同的模式（数字/模拟）。snd-bt87x 注册了两个 PCM 设备，每个模式各一个。它们不能同时使用。

数字音频模式
==================

第一个设备（hw:X,0）提供 16 位立体声音频。采样率取决于通过 I2S 接口向 Bt87x 提供数字音频的外部源。

模拟音频模式（A/D）
=======================

第二个设备（hw:X,1）提供 8 或 16 位单声道音频。支持的采样率在 119466 到 448000 Hz 之间（是的，这些数字就是这么高）。如果你启用了 CONFIG_SND_BT87X_OVERCLOCK 选项，最大采样率为 1792000 Hz，但在我的卡片上超过 896000 Hz 的音频数据变得不可用。
芯片有三个模拟输入端口。因此你会得到一个混音器设备来控制这些输入端口。

祝你玩得开心，

  Clemens

由 Clemens Ladisch <clemens@ladisch.de> 编写  
大量内容借鉴自 Gerd Knorr <kraxel@bytesex.org> 的 btaudio.txt
