==========================
关于节能模式的说明
==========================

AC97 和 HD-Audio 驱动程序具有自动节能模式。
此功能分别通过 Kconfig 的 ``CONFIG_SND_AC97_POWER_SAVE`` 和 ``CONFIG_SND_HDA_POWER_SAVE`` 选项启用。
通过自动节能模式，当不需要任何操作时，驱动程序会适当地关闭编解码器电源。
当没有应用程序使用设备和/或没有设置模拟环回时，电源禁用会完全或部分执行。
这将节省一定的电力消耗，因此对于笔记本电脑（甚至台式机）来说是好的。
自动关机的超时时间可以通过 snd-ac97-codec 和 snd-hda-intel 模块的 ``power_save`` 模块选项指定。以秒为单位指定超时值。0 表示禁用自动节能模式。超时的默认值通过 Kconfig 选项 ``CONFIG_SND_AC97_POWER_SAVE_DEFAULT`` 和 ``CONFIG_SND_HDA_POWER_SAVE_DEFAULT`` 给出。将此值设置为 1（最小值）不推荐，因为许多应用程序会频繁尝试重新打开设备。10 秒对于正常操作来说是一个不错的选择。
``power_save`` 选项作为可写导出。这意味着您可以随时通过 sysfs 调整该值。例如，要以 10 秒的时间间隔开启自动节能模式，请写入 ``/sys/modules/snd_ac97_codec/parameters/power_save``（通常需要 root 权限）：
::

	# echo 10 > /sys/modules/snd_ac97_codec/parameters/power_save

请注意，在改变电源状态时，您可能会听到咔哒声或爆裂声。此外，从电源关闭状态唤醒到活动状态往往需要一定的时间。这些问题是很难修复的，除非您有修复补丁，否则请不要为此提交额外的错误报告。

对于 HD-Audio 接口，还有一个模块选项 `power_save_controller`。这可以启用或禁用控制器端的节能模式。启用它可能会进一步减少一些电力消耗，但也可能导致更长的唤醒时间和咔哒声。如果您经常遇到这种情况，请尝试将其关闭。
