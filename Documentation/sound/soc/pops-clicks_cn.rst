=====================
音频爆音和咔哒声
=====================

爆音和咔哒声是由音频子系统内组件的开启和关闭所导致的不希望出现的音频瑕疵。在个人电脑上，当加载或卸载音频模块时（在模块加载时，声卡会启动并导致扬声器发出爆音）可以注意到这种情况。
在带有DAPM（动态音频电源管理）的便携式系统中，爆音和咔哒声可能会更频繁。这是因为子系统内的组件根据音频使用情况动态供电，这可能导致每次改变组件供电状态时都会产生轻微的爆音或咔哒声。

减少播放时的爆音和咔哒声
===================================

目前无法完全消除便携式音频子系统中的播放爆音，但未来的音频编解码器硬件将具有更好的爆音和咔哒声抑制功能。可以通过按照特定顺序为音频组件供电来减少播放过程中的爆音。启动和关闭的顺序不同，并遵循一些基本规则：-
::

   启动顺序：- DAC（数字模拟转换器）--> 混频器 --> 输出PGA（可编程增益放大器）--> 数字取消静音
  
   关闭顺序：- 数字静音 --> 输出PGA --> 混频器 --> DAC

这里假设从DAC到扬声器输出的编解码器PCM输出路径是通过混频器，然后是PGA（可编程增益放大器）。

减少录制时的爆音和咔哒声
==================================

消除录制时的瑕疵相对更容易，因为我们可以在所有爆音发生后延迟激活ADC。这遵循与播放类似的供电规则，即根据流的启动或关闭按序列供电组件。
::

   启动顺序 - 输入PGA --> 混频器 --> ADC（模数转换器）
  
   关闭顺序 - ADC --> 混频器 --> 输入PGA

拉链噪声
==========
当音量控制接近其最大增益值时被更改，音频播放或录制流中可能会出现不希望有的拉链噪声。当增益的增加或减少使平均音频信号幅度变化过快时，就会听到这种拉链噪声。通过启用每个音量控制的零交叉设置可以最小化这种噪声。零交叉迫使增益的变化发生在信号穿过零幅度线时。
