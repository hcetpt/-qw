=================
音频时钟
=================

本文描述了ASoC和一般数字音频中的音频时钟术语。注意：音频时钟可能很复杂！

主时钟
------

每个音频子系统都由一个主时钟驱动（有时称为MCLK或SYSCLK）。这个音频主时钟可以从多个来源产生（例如晶体振荡器、锁相环、CPU时钟），并负责生成正确的音频播放和捕获采样率。
一些主时钟（如锁相环和基于CPU的时钟）是可以配置的，其速度可以通过软件进行调整（根据系统使用情况以节省电力）。其他主时钟则固定在一个特定频率（即晶体振荡器）。

DAI时钟
--------

数字音频接口通常由位时钟（通常称为BCLK）驱动。这个时钟用于在编解码器和CPU之间传输数字音频数据。
DAI还有一个帧时钟，用于指示每个音频帧的开始。这个时钟有时被称为LRC（左右时钟）或FRAME。这个时钟运行的频率正好等于采样率（LRC = 采样率）。
位时钟可以按以下方式生成：

- BCLK = MCLK / x，
- BCLK = LRC * x，
- BCLK = LRC * 通道数 * 字长

这种关系取决于具体的编解码器或SoC CPU。一般来说，最好将BCLK配置为尽可能低的速度（根据您的采样率、通道数和字长）以节省电力。
如果可能的话，使用编解码器来驱动（或作为主时钟）音频时钟通常是更好的选择，因为它通常能提供比CPU更准确的采样率。
