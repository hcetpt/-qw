### SPDX 许可证标识符: GPL-2.0

### vfio-pci 设备特定驱动程序变体的验收标准
#### 概览
vfio-pci 驱动程序作为一个与设备无关的驱动程序存在，它使用系统 IOMMU，并依赖于平台故障处理的稳健性来为用户空间提供隔离的设备访问。虽然 vfio-pci 驱动程序确实包含一些设备特定的支持，但进一步扩展以支持更高级别的设备特定功能是不可持续的。因此，vfio-pci 驱动程序已经分离出了 vfio-pci-core 作为库，可以被重用来实现需要设备特定知识的功能，例如，为了支持迁移而保存和加载设备状态。

为了支持此类功能，预计某些设备特定的变体可能会与父设备（例如，在支持用户分配的 VF 时的 SR-IOV PF）或其他可能无法通过 vfio-pci 基础驱动程序直接访问的扩展进行交互。这些驱动程序的作者应当谨慎地避免通过这些交互创建可利用的接口，或者允许未经检查的用户空间数据超出所分配设备的范围产生影响。

因此，新驱动程序提交时需要获得通过签署确认、认可或审查等方式对于任何与父驱动程序交互的批准。
此外，驱动程序应该尽量提供足够的文档以便审查者能够理解设备特定的扩展，例如在迁移数据的情况下，设备状态是如何构成和消费的，哪些部分不是用户通过 vfio-pci 可以获取的，存在哪些保障措施来验证数据等。在这方面，作者还应预期至少需要列表中的一位审查者以及整体 vfio 维护者的审查。
