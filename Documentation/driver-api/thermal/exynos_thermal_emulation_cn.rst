=====================
Exynos 模拟模式
=====================

版权所有 (C) 2012 三星电子

编写者：Jonghwa Lee <jonghwa3.lee@samsung.com>

描述
------------

Exynos 4x12（4212，4412）和 5 系列为热管理单元提供了模拟模式。热模拟模式支持对 TMU（热管理单元）的操作进行软件调试。用户可以使用软件代码手动设置温度，并且 TMU 将从用户值而不是传感器值读取当前温度。
启用 CONFIG_THERMAL_EMULATION 选项将使此功能可用。当它被启用时，将在 `/sys/devices/virtual/thermal/thermal_zone'zone id'/emul_temp` 创建一个 sysfs 节点。
该 sysfs 节点 `emul_node` 在初始状态下将包含值 0。
当你向 sysfs 节点输入任何想要更新的温度时，它会自动启用模拟模式，并且当前温度将变为所输入的温度。
（Exynos 还支持用户可更改的延迟时间，该时间用于温度变化的延迟。然而，此节点仅使用与实际感应时间相同的延迟，即 938 微秒。）

Exynos 模拟模式要求值的变化和启用同步。这意味着当你想要更新任何延迟或下一个温度的值时，你必须同时启用模拟模式。（或者你必须保持模式处于启用状态。）如果你不这样做，则无法将值更改为更新后的值，而只会重复使用上次成功更改的值。
这就是为什么此节点只赋予用户更改温度的权利。只有一个接口使其更易于使用。
禁用模拟模式只需将值 0 写入 sysfs 节点。

```
TEMP	120 |
	    |
	100 |
	    |
	 80 |
	    |				 +-----------
	 60 |      			 |	    |
	    |		   +-------------|          |
	 40 |              |         	 |          |
	    |		   |		 |          |
	 20 |		   |		 |          +----------
	    |		   |		 |          |          |
	  0 |______________|_____________|__________|__________
		   A		 A	    A		       A     TIME
		   |<----->|	 |<----->|  |<----->|	       |
		   | 938us |  	 |	 |  |       |          |
  模拟模式   : 0  50	   |  	 70      |  20      |          0
  当前温度:   传感器   50		 70         20	      传感器
```
