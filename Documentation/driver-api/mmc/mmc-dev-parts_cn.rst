============================
SD 和 MMC 设备分区
============================

设备分区是指存在于 SD/MMC 设备上的附加逻辑块设备。截至本文档编写之时，支持并公开了 MMC 引导分区，表现为 `/dev/mmcblkXboot0` 和 `/dev/mmcblkXboot1`，其中 X 是父设备 `/dev/mmcblkX` 的索引。
MMC 引导分区
===================

提供了对两个 MMC 引导分区的读写访问。由于引导分区内容的敏感性——这些内容通常存储着对平台启动至关重要的引导加载程序或引导加载配置表——默认情况下禁用了写入访问以减少意外“变砖”的风险。

要启用对 `/dev/mmcblkXbootY` 的写入访问，请禁用强制只读访问：
```
echo 0 > /sys/block/mmcblkXbootY/force_ro
```

要重新启用只读访问：
```
echo 1 > /sys/block/mmcblkXbootY/force_ro
```

还可以将引导分区锁定为只读状态直至下一次开机，通过以下命令实现：
```
echo 1 > /sys/block/mmcblkXbootY/ro_lock_until_next_power_on
```

这是卡自身的特性，而非内核特性。如果卡不支持引导分区锁定，则该文件将不存在。如果该功能在卡上已被禁用，则该文件将是只读的。

此外，引导分区也可以被永久锁定，但为了避免意外或恶意“变砖”，此功能无法通过 sysfs 访问。
