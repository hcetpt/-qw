SPDX 许可证标识符: GPL-2.0

=================================
Qlogic FASXXX 系列驱动说明
=================================

此驱动支持 Qlogic FASXXX 系列芯片。该驱动仅适用于 Qlogic FastSCSI! 的 ISA、VLB 和 PCMCIA 版本，以及其他基于 FASXX 芯片的卡（包括 Control Concepts 的 SCSI/IDE/SIO/PIO/FDC 卡）。此驱动不支持 PCI 版本。对于以下 PCI 版本的 Qlogic 板卡：

* IQ-PCI
* IQ-PCI-10
* IQ-PCI-D

由 qla1280 驱动提供支持。
也不支持 PCI-Basic，该卡由 'am53c974' 驱动支持。

PCMCIA 支持
==============

目前这仅在从 DOS 启用卡时有效。这意味着您需要加载插槽服务和卡服务以及 QL41DOS.SYS 和 QL40ENBL.SYS。这些是最小要求，但加载其余模块不会干扰操作。接下来要做的就是不重置硬件的情况下加载内核，这可以通过带有启动软盘的 Ctrl+Alt+Del 来实现，或者使用可以从 DOS 访问的内核映像的 loadlin。如果您使用的是 Linux PCMCIA 驱动，则必须调整它或阻止其配置卡。
我正在与 PCMCIA 团队合作以使其更具灵活性，但这可能需要一段时间。

所有卡
=========

qlogic.c 文件顶部有一些定义，用于控制配置。作为默认配置，它在速度和功能之间取得了平衡。如果遇到任何问题，请尝试将 SLOW_CABLE 设置为 1，并将 USE_IRQ 和 TURBO_PDMA 设置为零。如果您熟悉 SCSI，还有其他设置可以调整总线性能。
启用 RESET_AT_START 可能是个好主意，尤其是在设备可能刚刚通电或在崩溃后重启时，因为它们可能正忙于完成最后一个命令。如果将其设置为零，则启动速度会更快；如果您的硬件和连接可靠，则不重置可能会更有用。

一些故障排除提示
=========================

确保它在 DOS 下正常工作。如果您想要分区，还应该对新驱动器进行初始 FDISK。
不要一开始就启用所有加速。如果有任何问题，它们会使问题更糟。

重要事项
=========

测试电缆、终止等是否良好的最佳方法是复制一个非常大的文件（例如 double space 容器文件或非常大的可执行文件或存档）。它至少应为 5MB，但您可以对较小的文件进行多次测试。然后做一次 COMP 以验证文件是否正确复制。（在进行这些测试时关闭所有缓存，否则您测试的是 RAM 而不是文件）。然后进行 10 次 COMP，比较 SCSI 硬盘上的同一文件，即“COMP realbig.doc realbig.doc”。然后在计算机变热后再次进行测试。
我注意到我的系统看似能够100%正常工作，但如果让电脑开机几个小时后，这个测试就会失败。使用更长的电缆或SCSI总线上连接更多设备时情况会更糟。似乎发生的问题是出现了错误的ACK信号，导致一个额外的字节被插入到数据流中（而这一问题并未被检测出来）。这可能是由于不良的终端处理（ACK信号可能会反射），或者是由于芯片因发热而工作不正常时产生的噪声，或者是因为电缆过长而速度过快导致的问题。
记住，如果在DOS下无法工作，那么在Linux下可能也无法工作。
