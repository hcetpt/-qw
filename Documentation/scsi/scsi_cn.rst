SPDX 许可证标识符: GPL-2.0

============================
SCSI 子系统文档
============================

Linux 文档项目 (LDP) 维护了一份描述 Linux 内核 (lk) 2.4 系列中 SCSI 子系统的文档。详见： https://www.tldp.org/HOWTO/SCSI-2.4-HOWTO 。LDP 提供了单页和多页的 HTML 渲染版本以及 PostScript 和 PDF 格式。

使用 SCSI 子系统模块的说明
============================================

Linux 内核中的 SCSI 支持可以根据最终用户的需求以多种不同的方式模块化。为了理解您的选项，我们首先定义一些术语：

scsi-core（也称为“中间层”）包含 SCSI 支持的核心部分。没有它，您将无法使用任何其他 SCSI 驱动程序。

SCSI 核心支持可以是一个模块（scsi_mod.o），也可以内置于内核中。如果核心是模块，则必须是加载的第一个 SCSI 模块，并且在卸载模块时，它必须是最后一个被卸载的模块。实际上，modprobe 和 rmmod 命令会强制执行 SCSI 子系统中模块加载和卸载的正确顺序。

一旦 SCSI 核心存在于内核中（无论是编译入内核还是作为模块加载），各个上层和下层驱动程序可以以任意顺序加载。磁盘驱动程序（sd_mod.o）、CD-ROM 驱动程序（sr_mod.o）、磁带驱动程序 [1]_ 和 SCSI 通用驱动程序（sg.o）代表了用于控制各种设备的上层驱动程序。例如，您可以加载磁带驱动程序来使用磁带机，然后在不再需要该驱动程序时将其卸载（并释放相关内存）。

下层驱动程序是支持您所运行硬件平台上的各个独立卡的驱动程序。这些独立的卡通常被称为主机总线适配器 (HBA)。例如，aic7xxx.o 驱动程序用于控制所有近期的 Adaptec SCSI 控制卡。几乎所有下层驱动程序都可以作为模块构建或内置于内核中。

.. [1] 有一个专门用于控制 OnStream 磁带设备的 st 驱动程序变体。它的模块名为 osst.o
