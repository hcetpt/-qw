SPDX 许可证标识符: GPL-2.0

========================================
HID 报告描述符的手动解析
========================================

再次考虑在 `Documentation/hid/hidintro.rst` 中介绍的鼠标 HID 报告描述符：

  $ hexdump -C /sys/bus/hid/devices/0003:093A:2510.0002/report_descriptor
  00000000  05 01 09 02 a1 01 09 01  a1 00 05 09 19 01 29 03  |..............).|
  00000010  15 00 25 01 75 01 95 03  81 02 75 05 95 01 81 01  |..%.u.....u.....|
  00000020  05 01 09 30 09 31 09 38  15 81 25 7f 75 08 95 03  |...0.1.8..%.u...|
  00000030  81 06 c0 c0                                       |....|
  00000034

尝试手动解析它。
从第一个数字 0x05 开始：它包含 2 位表示项的长度，2 位表示项的类型和 4 位表示项的功能：

  +----------+
  | 00000101 |
  +----------+
          ^^
          ---- 数据长度（参见 HID 规范 6.2.2.2）
        ^^
        ------ 项的类型（参见 HID 规范 6.2.2.2，然后跳转到 6.2.2.7）
    ^^^^
    --------- 项的功能（参见 HID 规范 6.2.2.7，然后是 HUT 第 3 节）

在我们的例子中，长度为 1 字节，类型为“全局”（Global），功能为“使用页面”（Usage Page）。因此，为了解析第二个字节中的值 0x01，我们需要参考 HUT 第 3 节。
第二个数字是实际的数据，其含义可以在 HUT 中找到。我们有一个“使用页面”，因此需要参考 HUT 第 3 节，“使用页面”；从中可以看到 0x01 表示“通用桌面页面”（Generic Desktop Page）。
现在来看接下来的两个字节，并遵循相同的模式，0x09（即 00001001）将跟随一个字节（01），并且是一个“局部”（Local）项（10）。因此，剩余四位（0000）的意义在 HID 规范第 6.2.2.8 节“局部项”（Local Items）中给出，因此我们有一个“使用”（Usage）。从 HUT 第 4 节，“通用桌面页面”中，我们可以看到 0x02 表示“鼠标”（Mouse）。
接下来的数字可以以相同的方式解析。
