... SPDX 许可证标识符: GPL-2.0

==================
USB 传统支持
==================

:作者: Vojtech Pavlik <vojtech@suse.cz>，2004年1月

在 BIOS 设置中通常被称为“USB 键盘”或“USB 鼠标支持”的功能允许用户像使用传统的 PS/2 设备一样使用 USB 鼠标和键盘。这意味着用户可以使用 USB 键盘输入 LILO 等内容。
尽管如此，它还是存在一些缺点：

1) 在某些机器上，即使没有连接 USB 鼠标而仅连接了真实的 PS/2 鼠标时，模拟的 PS/2 鼠标也会接管控制。在这种情况下，真实 PS/2 鼠标的额外特性（如滚轮、额外按钮、触摸板模式等）可能无法使用。
2) 如果启用了 CONFIG_HIGHMEM64G，PS/2 鼠标的模拟可能会导致系统崩溃，因为 SMM BIOS 没有预期到系统会处于 PAE 模式。Intel E7505 就是这样的一种典型情况。
3) 如果启用了 AMD64 的 64 位模式，同样经常会发生系统崩溃的情况，因为 SMM BIOS 并没有预期到 CPU 会处于 64 位模式。BIOS 制造商通常只与 Windows 进行测试，而 Windows 当时尚未支持 64 位。

解决方案：

问题 1)
  可以通过先加载 USB 驱动程序再加载 PS/2 鼠标驱动程序来解决。由于 PS/2 鼠标驱动程序在 2.6 版本中无条件地编译入内核，这就意味着 USB 驱动程序也需要编译进内核。
问题 2)
  目前只能通过禁用内核配置中的 HIGHMEM64G 或者在 BIOS 中禁用 USB 传统支持来解决。更新 BIOS 可能有所帮助，但目前为止还没有这样的更新。
问题 3)
  通常可以通过更新 BIOS 来解决。请检查主板制造商的网站是否有可用的更新。如果没有更新可用，请在 BIOS 中禁用 USB 传统支持。如果这样做还不够，尝试在内核命令行中添加 idle=poll。BIOS 可能在遇到 HLT 指令时进入 SMM。
