PA-RISC 调试
=============

好的，这里有一些针对 linux/parisc 较低层级部分调试的提示：
1. 绝对地址
=====================

目前很多汇编代码在实模式下运行，这意味着使用绝对地址而不是像内核其余部分那样的虚拟地址。要将一个绝对地址转换为可以在 System.map 中查找的虚拟地址，需要加上 `__PAGE_OFFSET`（当前为 0x10000000）。
2. HPMC
========

当实模式代码尝试访问不存在的内存时，你会遇到 HPMC 而不是内核崩溃。为了调试 HPMC，尝试找到 System Responder/Requestor 地址。System Requestor 地址应该与某个处理器的 HPA（高地址，在 I/O 范围内）匹配；System Responder 地址是实模式代码试图访问的地址。
对于 System Responder 地址常见的值大于 `__PAGE_OFFSET`（0x10000000），这表明在实模式代码尝试访问之前，虚拟地址没有被转换为物理地址。
3. Q 位的乐趣
============

某些极其关键的代码必须清除 PSW 中的 Q 位。当 Q 位被清除时，CPU 不会更新中断处理程序读取以确定机器中断位置的寄存器——因此如果你在清除 Q 位和重新设置它的 RFI 指令之间发生中断，你无法确切知道它发生在何处。如果你运气好，IAOQ 将指向清除了 Q 位的指令；如果不走运，则可能指向任何地方。通常，Q 位问题会表现为无法解释的系统挂起或超出物理内存末尾的运行。
