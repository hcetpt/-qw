### 软件模拟废弃的 SWP 指令 (CONFIG_SWP_EMULATE)

ARMv6 架构废弃了 SWP/SWPB 指令的使用，并推荐转而使用带有锁定加载/条件存储功能的指令 LDREX 和 STREX。
ARMv7 多处理器扩展引入了禁用这些指令的能力，当执行时会触发未定义指令异常。
被捕获的指令通过 LDREX/STREX 或 LDREXB/STREXB 序列进行模拟。如果发生内存访问错误（中止），则向触发进程发出分段错误信号。
`/proc/cpu/swp_emulation` 包含一些统计信息/信息，包括最后一次触发模拟调用的进程的 PID。例如：

```
模拟的 SWP：       12
模拟的 SWPB：      0
中止的 SWP{B}：   1
最后的进程：       314
```

**注释：**
当访问未缓存的共享区域时，LDREX/STREX 依赖于一个外部事务监控块（称为全局监视器）来维护更新的原子性。如果你的系统没有实现全局监视器，此选项可能会导致对未缓存内存执行 SWP 操作的程序出现死锁，因为 STREX 操作将始终失败。
