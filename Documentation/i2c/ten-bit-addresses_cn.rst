=====================
I2C 十位地址
=====================

I2C 协议了解两种类型的设备地址：正常的 7 位地址，以及一组扩展的 10 位地址。这两组地址并不重叠：7 位地址 0x10 并不等同于 10 位地址 0x10（尽管单个设备可以响应这两个地址）。为了避免混淆，用户看到的 10 位地址被映射到不同的地址空间中，即 0xa000-0xa3ff。前缀 0xa（=10）代表 10 位模式。这用于在 sysfs 中创建设备名称。当通过 sysfs 中的 new_device 文件实例化 10 位设备时也需要它。
I2C 消息与 10 位地址设备之间的交互具有不同的格式。请参阅 I2C 规格以获取详细信息。
当前对 10 位地址的支持还很有限。虽然它应该能工作，但你可能会遇到一些问题：

* 并非所有总线驱动程序都支持 10 位地址。有些不支持是因为硬件本身就不支持（例如 SMBus 不要求支持 10 位地址），有些则是因为没有人费心添加代码（或者代码存在但未能正常运行）。软件实现（i2c-algo-bit）已知是可以工作的。
* 一些可选功能不支持 10 位地址。例如，通过其驱动程序自动检测和实例化设备的功能就是如此。
* 许多用户空间包（例如 i2c-tools）缺乏对 10 位地址的支持。

需要注意的是，10 位地址设备仍然相对较少见，因此上述限制可能会长时间存在，如果没有人需要解决这些问题的话，这些限制甚至可能永远存在。
