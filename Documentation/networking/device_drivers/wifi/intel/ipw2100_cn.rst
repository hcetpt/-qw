.. SPDX 许可声明标识符: GPL-2.0
.. include:: <isonum.txt>

===========================================
Intel(R) PRO/Wireless 2100 Linux 驱动程序
===========================================

支持：

- Intel(R) PRO/Wireless 2100 网络连接

版权所有 © 2003-2006，英特尔公司

README.ipw2100

:版本: git-1.1.5
:日期:   2006年1月25日

.. 目录

    0. 在使用此驱动程序前的重要信息
    1. 引言
    2. 发行版 git-1.1.5 当前特性
    3. 命令行参数
    4. Sysfs 辅助文件
    5. 无线射频禁用开关
    6. 动态固件
    7. 电源管理
    8. 支持
    9. 许可证

0. 在使用此驱动程序前的重要信息
=================================================

对所有用户或分发者的重要通知!!!!

英特尔无线局域网适配器经过设计、制造、测试和质量检查，以确保它们符合其指定和/或标记销售区域的所有必要的本地和政府监管机构的要求。由于无线局域网通常是无需许可的设备，并且与雷达、卫星和其他已许可和未许可的设备共享频谱，因此有时需要动态检测、避免和限制使用，以避免干扰这些设备。在许多情况下，英特尔必须提供测试数据来证明产品的区域和本地合规性，然后才能获得认证或批准使用该产品。英特尔的无线局域网EEPROM、固件和软件驱动程序旨在仔细控制影响无线电操作的参数并确保电磁兼容性（EMC）。这些参数包括但不限于射频功率、频谱使用、信道扫描和人体暴露。基于这些原因，英特尔不允许任何第三方对随无线局域网适配器提供的二进制格式软件进行任何操作（例如，EEPROM和固件）。此外，如果您使用了任何未经授权的第三方修改过的补丁、工具或代码（包括未经英特尔验证的开源代码修改），那么：(i) 您将全权负责确保产品的法规遵从性；(ii) 英特尔不对任何与修改后产品相关的问题承担任何责任，包括但不限于保修索赔和因不符合法规引起的问题；(iii) 英特尔不会提供或被要求协助提供对任何此类修改产品的支持。
注意：许多监管机构认为无线局域网适配器是模块，并相应地将系统级监管批准建立在接收和审查测试数据的基础上，这些测试数据表明天线和系统配置不会导致电磁兼容性和无线电操作不合规。
从SourceForge下载的驱动程序是作为开发项目的一部分提供的。遵守本地法规要求是个别开发者的责任。因此，如果您有兴趣部署或分发作为解决方案一部分的驱动程序，并且该解决方案用于除开发之外的目的，请从英特尔客户支持处获取经过测试的驱动程序：

https://www.intel.com/support/wireless/sb/CS-006408.htm

1. 引言
===============

本文档提供了关于IPW2100驱动程序项目所支持特性的简要概述。主项目网站，可以找到最新开发版本的驱动程序，位于：

	http://ipw2100.sourceforge.net

在那里您可以找到不仅最新的发布版本，还有潜在修复和补丁的信息，以及指向驱动程序项目的开发邮件列表的链接。

2. 发行版 git-1.1.5 当前支持的特性
===============================================

- 管理模式（BSS）和自组织模式（IBSS）
- WEP（共享密钥和开放）
- 无线工具支持
- 802.1x（测试通过XSupplicant 1.0.1）

启用（但不支持）的功能：
- 监视/RF监视模式
- WPA/WPA2

正式支持和启用之间的区别在于对给定功能执行的验证和互操作性测试的数量。

3. 命令行参数
==========================

如果驱动程序作为模块构建，则可以使用modprobe命令在命令行中输入以下可选参数，使用此语法：

	modprobe ipw2100 [<option>=<VAL1><,VAL2>...]

例如，要在加载驱动程序时禁用无线电，输入：

	modprobe ipw2100 disable=1

ipw2100驱动程序支持以下模块参数：

=========	==============	============  ==============================
名称		值		示例       含义
=========	==============	============  ==============================
debug		0x0-0xffffffff	debug=1024    调试级别设置为1024
mode		0,1,2		mode=1        自组织模式
channel		int		channel=3     仅在自组织或监视模式下有效
associate	boolean		associate=0   不自动关联
disable		boolean		disable=1     不启动硬件
=========	==============	============  ==============================

4. Sysfs 辅助文件
=====================

有几种方式可以控制驱动程序的行为。许多通用功能都通过无线工具（iwconfig）公开。还有一些功能通过Linux Sysfs条目的形式公开。
**驱动程序级别**

对于驱动程序级别的文件，请查看 /sys/bus/pci/drivers/ipw2100/

  debug_level
	这控制着与“debug”模块参数相同的全局变量。有关可用的不同调试级别的信息，请运行驱动程序源目录中的'dvals'脚本。
.. 注意::

	      'debug_level'只有在CONFIG_IPW2100_DEBUG开启的情况下才启用
**设备级别**

对于设备级别的文件，请查看：

	/sys/bus/pci/drivers/ipw2100/{PCI-ID}/

例如：

	/sys/bus/pci/drivers/ipw2100/0000:02:01.0

对于设备级别的文件，请参见/sys/bus/pci/drivers/ipw2100：

  rf_kill
	读取

	==  =========================================
	0   无线射频禁用开关未启用（无线电打开）
	1   基于软件的无线射频禁用开关激活（无线电关闭）
	2   基于硬件的无线射频禁用开关激活（无线电关闭）
	3   基于硬件和软件的无线射频禁用开关均激活（无线电关闭）
	==  =========================================

	写入

	==  ==================================================
	0   如果基于软件的无线射频禁用开关激活，则重新打开无线电
	1   如果无线电打开，则激活基于软件的无线射频禁用开关
	==  ==================================================

	.. 注意::

	   如果您启用了基于软件的无线射频禁用开关，然后切换基于硬件的无线射频禁用开关从开启->关闭->开启，无线电将不会重新打开

5. 无线射频禁用开关
====================

大多数笔记本电脑提供了让用户物理禁用无线电的能力
一些供应商已经实现了这一功能，即一个不需要软件即可关闭和打开无线电的物理开关。然而，在其他笔记本电脑上，该开关是通过按下按钮并通过软件驱动程序调用来关闭和打开无线电实现的。这被称为“基于软件的无线射频禁用开关”。

请参阅Sysfs辅助文件'rf_kill'以确定您的系统的无线射频开关状态。
6. 动态固件
===================

由于固件是根据受限使用许可发布的，因此不能将其包含在内核源代码中。为了启用IPW2100，您需要一个固件映像来加载到无线网卡的处理器中。
您可以从<http://ipw2100.sf.net/firmware.php>获取这些映像。
有关安装固件的说明，请参阅INSTALL文件。

7. 电源管理
===================

IPW2100通过私有的无线扩展接口支持配置节能协议（Power Save Protocol）。IPW2100支持以下不同的模式：

	===	===========================================================
	off	不进行电源管理。无线电始终开启。
	on	自动电源管理。
	1-5	不同级别的电源管理。数值越高，节能效果越好，但会影响数据包延迟。
	===	===========================================================

电源管理通过在一段时间内没有数据包通过无线电后关闭无线电实现。一旦关闭，无线电将在给定的时间段内保持该状态。对于更高的节能效果，从处理最后一个数据包到进入睡眠状态的时间间隔较短，且睡眠周期较长。
当无线电处于睡眠状态时，向站点发送数据的接入点必须在AP处缓冲数据包，直到站点醒来并请求任何已缓冲的数据包。如果您使用的AP不正确地支持PSP协议，则可能会在启用电源管理时遇到数据包丢失或性能极差的情况。如果出现这种情况，您需要尝试找到适用于您的AP的固件更新，或者禁用电源管理（通过`iwconfig eth1 power off`命令）。

要配置IPW2100上的电源级别，需要结合使用iwconfig和iwpriv。iwconfig用于开启、关闭电源管理和设置为自动模式。

=========================  ====================================
	iwconfig eth1 power off    禁用无线电电源关闭。
	iwconfig eth1 power on     启用无线电电源管理至
					上次设置的级别（默认为AUTO）。
	iwpriv eth1 set_power 0    将电源级别设置为AUTO，并启用
					电源管理（如果尚未启用）。
	iwpriv eth1 set_power 1-5  按指定级别设置电源，
					如果尚未启用，则启用电源管理。
=========================  ====================================

您可以通过以下命令查看当前的电源级别设置：

	iwpriv eth1 get_power

它将返回当前配置的超时间隔（处理数据包后的持续时间）、睡眠周期（在唤醒无线电并查询接入点获取已缓冲数据包之前等待的时间），以及“电源级别”形式的字符串xxxx/yyyy (z)，其中xxxx表示超时间隔，yyyy表示睡眠周期，z表示“电源级别”。如果电源管理被关闭，xxxx/yyyy将被替换为'off'——报告的级别将是激活的级别，如果调用了`iwconfig eth1 power on`命令的话。
8. 支持
==========

有关一般开发信息和支持，请访问：

    http://ipw2100.sf.net/

ipw2100 1.1.0 驱动程序和固件可以从以下地址下载：

    http://support.intel.com

对于在 Linux 内核 2.6.8 或更高版本上安装 ipw2100 1.1.0 驱动程序的支持，可以通过电子邮件获取帮助：

    http://supportmail.intel.com

9. 许可证
==========

  版权 © 2003 - 2006 英特尔公司。保留所有权利。
本程序是自由软件；您可以根据由自由软件基金会发布的 GNU 通用公共许可证（第 2 版）重新分发或修改它。
本程序是希望它有用而发布的，但没有任何形式的保证，甚至不包括适销性或适合特定用途的隐含保证。详情请参见 GNU 通用公共许可证。
您应该已经收到随附于本程序的 GNU 通用公共许可证副本；如果没有，请写信给自由软件基金会，Inc.，地址为：59 Temple Place - Suite 330, Boston, MA 02111-1307, USA。
完整的 GNU 通用公共许可证包含在此分发包中的名为 LICENSE 的文件中。
许可证联系信息：

  James P. Ketrenos <ipw2100-admin@linux.intel.com>

  英特尔公司，地址为：5200 N.E. Elam Young Parkway, Hillsboro, OR 97124-6497
