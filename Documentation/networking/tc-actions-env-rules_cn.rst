SPDX 许可证标识符: GPL-2.0

================================
TC 动作 - 环境规则
================================

对于任何新 tc 动作的作者，“环境”规则如下：

1) 如果你窃取或借用任何数据包，你将偏离正道，并需要进行数据包克隆。
   例如，如果你的动作将数据包排队以供稍后处理，
   或者通过重定向数据包有意分支，则你需要克隆该数据包。
2) 如果你修改任何数据包，你应该在别人引用该 skb（sk_buff）的情况下调用 `pskb_expand_head`。
   在那之后，你“拥有”该 skb。
3) 丢弃不属于你的数据包是不允许的。你只需向调用者返回 `TC_ACT_SHOT`，
   它们将会处理丢弃操作。

对于动作（如 qdiscs 等）的调用者，“环境”规则如下：

#) 你有责任释放任何被标记为 `TC_ACT_SHOT` / `TC_ACT_STOLEN` / `TC_ACT_QUEUED` 的内容。
   如果没有返回 `TC_ACT_SHOT` / `TC_ACT_STOLEN` / `TC_ACT_QUEUED` 中的任何一个，则一切正常，你无需做任何事情。

如果某些地方不清楚，请在 netdev 上发帖。
