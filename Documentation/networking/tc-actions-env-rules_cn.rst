SPDX 许可证标识符: GPL-2.0

================================
TC 动作 - 环境规则
================================

对于任何新的 tc 动作的作者，“环境”规则如下：

1) 如果你窃取或借用任何数据包，你将偏离正道，并且需要克隆该数据包。
例如，如果你的动作将数据包排队以供稍后处理，或者通过重定向数据包有意分支，则你需要克隆该数据包。

2) 如果你修改了任何数据包，你应该在其他地方引用该 skb 时调用 `pskb_expand_head`。之后，你就“拥有”这个 skb。

3) 丢弃你不拥有的数据包是不允许的。你只需返回 `TC_ACT_SHOT` 给调用者，他们会处理丢弃。

对于调用动作（如 qdisc 等）的规则如下：

#) 你负责释放所有被标记为 `TC_ACT_SHOT`、`TC_ACT_STOLEN` 或 `TC_ACT_QUEUED` 的内容。如果没有返回 `TC_ACT_SHOT`、`TC_ACT_STOLEN` 或 `TC_ACT_QUEUED` 中的任何一个，则一切正常，你无需做任何事情。

如果某些内容不清楚，请在 netdev 上发帖询问。
