... SPDX 许可证标识符: GPL-2.0

=========================
基于 TC 队列的过滤
=========================

TC 可以用于将流量导向一组队列或单个队列，无论是发送还是接收方向。
在发送方向：

1) 使用 `skbedit` 优先级选择操作来实现将流量导向一组队列。当使用 `mqprio` 配置队列集合时，优先级会映射到一个流量类别（一组队列）。
2) 使用 `skbedit queue_mapping $tx_qid` 动作将流量导向一个发送队列。对于发送队列，`skbedit queue_mapping` 操作仅在软件中执行，无法卸载。

同样，在接收方向，支持两种过滤器来选择一组队列或单个队列，如下所示：

1) 使用带有 `hw_tc` 选项的 TC flower 过滤器将传入流量导向一组队列。
`hw_tc $TCID` - 指定一个硬件流量类别来传递匹配的数据包。TCID 的范围为 0 到 15。
2) 使用带有 `skbedit queue_mapping $rx_qid` 动作的 TC 过滤器选择一个接收队列。对于接收队列，`skbedit queue_mapping` 动作仅在硬件中支持。多个过滤器可能在硬件中竞争队列选择。在这种情况下，硬件管道根据优先级解决冲突。在 Intel E810 设备上，将流量导向队列的 TC 过滤器具有比分配队列的流导向过滤器更高的优先级。哈希过滤器具有最低的优先级。
