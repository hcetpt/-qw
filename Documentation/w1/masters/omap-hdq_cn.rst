标题：===========================
OMAP HDQ/1 线模块的内核驱动程序
===========================

支持的芯片：
==============
在TI OMAP 2430/3430平台上的HDQ/1线控制器
关于HDQ基础知识的一个有用链接：
===================================
http://focus.ti.com/lit/an/slua408a/slua408a.pdf

描述：
======
TI OMAP2430/3430平台的HDQ/1-线模块实现了Benchmark HDQ和Dallas Semiconductor 1-线协议的硬件主控功能。这些协议使用单线进行主控（HDQ/1-线控制器）与从属设备（符合HDQ/1-线标准的外部设备）之间的通信。
HDQ/1-线模块的一个典型应用是与电池监控（气体计量）集成电路的通信。
控制器同时支持HDQ和1-线模式的运行。HDQ与1-线模式之间的主要区别在于从属设备对初始化脉冲的响应方式。在HDQ模式下，固件不需要主机向从属设备生成初始化脉冲。然而，可以使用初始化脉冲（也称为断脉冲）来重置从属设备。在1-线协议中，从属设备不会像那样通过存在脉冲进行响应。

备注：
======
驱动程序（drivers/w1/masters/omap_hdq.c）支持控制器的HDQ模式。在这种模式下，由于我们无法读取遵循W1规范（家族：ID：CRC）的ID，因此可以将一个模块参数传递给驱动程序，用于计算CRC并返回适当的从属ID给W1核心。
默认情况下，主控驱动程序和BQ从属接口驱动程序（drivers/w1/slaves/w1_bq27000.c）将ID设置为1。
如果需要，可以使用不同的ID加载两个模块，但请注意，用于加载主控和从属驱动程序的ID应该相同。
例如：

```
insmod omap_hdq.ko W1_ID=2
insmod w1_bq27000.ko F_ID=2
```

驱动程序还支持1-线模式。在这种模式下，无需作为参数传递从属ID。驱动程序将使用SEARCH_ROM过程自动检测连接到总线的从属设备。可以通过在设备树（DT）中将"ti,mode"属性设置为"1w"来选择1-线模式（有关更多详细信息，请参阅Documentation/devicetree/bindings/w1/omap-hdq.txt）
默认情况下，驱动程序处于HDQ模式。
