... SPDX-许可证标识符: GPL-2.0

=================================
设备树动态解析器说明文档
=================================

本文档描述了内核中的设备树解析器的实现，该解析器位于`drivers/of/resolver.c`文件中。

解析器的工作原理
----------------------

解析器接收一个作为输入的任意树，该树通过适当的dtc选项编译并带有`/plugin/`标签。这将生成相应的`__fixups__`和`__local_fixups__`节点。
解析器按以下步骤工作：

1. 从活动树中获取最大的设备树phandle值，并在此基础上加1。
2. 将树中的所有本地phandle调整为增加上述数量以进行解析。
3. 使用`__local_fixups__`节点信息，将所有本地引用调整相同的数量。
4. 对于`__fixups__`节点中的每个属性，在活动树中定位其引用的节点。这是用于标记节点的标签。
5. 获取修复目标的phandle。
6. 对于属性中的每个修复项，定位节点：属性：偏移量的位置，并将其替换为phandle值。
