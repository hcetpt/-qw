# SPDX-许可证标识符: (GPL-2.0-only 或 BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/bus/arm,integrator-ap-lm.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

标题: Integrator/AP 逻辑模块扩展总线

维护者:
  - Linus Walleij <linusw@kernel.org>

描述: Integrator/AP 是一个原型平台，因此它可以堆叠多达四个专门为此平台设计的逻辑模块（LM）。可以通过读取一个特殊的系统控制器寄存器来判断在索引 0、1、2 或 3 处是否连接了逻辑模块。此绑定描述了逻辑模块连接器。而逻辑模块本身则有各自特定的模块绑定，并作为此逻辑模块扩展总线下的子节点进行描述。
属性:
  "#address-cells":
    常量: 1

  "#size-cells":
    常量: 1

  compatible:
    项:
      - 常量: arm,integrator-ap-lm

  ranges: 真
  dma-ranges: 真

模式属性:
  "^bus(@[0-9a-f]*)?$":
    描述: 逻辑模块总线上的节点代表逻辑模块，并命名为 bus。第一个模块位于 0xc0000000，第二个位于 0xd0000000，以此类推，直到系统的内存顶部 0xffffffff。有关模块使用的所有内存信息都在 ranges 和 dma-ranges 中给出。
类型: 对象

    必需:
      - compatible

必需:
  - compatible

示例:
  - |
    bus@c0000000 {
      compatible = "arm,integrator-ap-lm";
      #address-cells = <1>;
      #size-cells = <1>;
      ranges = <0xc0000000 0xc0000000 0x40000000>;
      dma-ranges;

      bus@c0000000 {
        compatible = "simple-bus";
        ranges = <0x00000000 0xc0000000 0x10000000>;
        /* 逻辑模块看到的核心模块 0 的 RAM 位于 0x80000000 */
        dma-ranges = <0x00000000 0x80000000 0x10000000>;
        #address-cells = <1>;
        #size-cells = <1>;

        serial@100000 {
          compatible = "arm,pl011", "arm,primecell";
          reg = <0x00100000 0x1000>;
          interrupts-extended = <&impd1_vic 1>;
        };

        impd1_vic: interrupt-controller@3000000 {
          compatible = "arm,pl192-vic";
          interrupt-controller;
          #interrupt-cells = <1>;
          reg = <0x03000000 0x1000>;
          valid-mask = <0x00000bff>;
          interrupts-extended = <&pic 9>;
        };
      };
    };

额外属性: 假
```
