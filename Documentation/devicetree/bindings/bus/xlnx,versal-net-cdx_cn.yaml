```yaml
# SPDX-许可证标识符: (GPL-2.0 或 BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/bus/xlnx,versal-net-cdx.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: AMD CDX 总线控制器

description: |
  对于 AMD 设备的 CDX 总线控制器实现了动态检测 CDX 总线和使用固件的设备。
  CDX 总线管理多个基于 FPGA 的硬件设备，这些设备可以支持网络、加密或其他任何专业类型的设备。
  这些基于 FPGA 的设备可以在运行时动态添加/修改。
  在 CDX 总线上的所有设备都将有一个唯一的流 ID（用于 IOMMU）和一个唯一设备 ID（用于 MSI），对应于请求者 ID（与设备一对一关联）。
  流 ID 和设备 ID 分别用于配置 SMMU 和 GIC-ITS。
  属性 iommu-map 用于定义每个设备对应的流 ID 集及其关联的 IOMMU。
  MSI 写操作伴随着侧带数据（设备 ID）。
  属性 msi-map 用于将设备与设备 ID 及其关联的 ITS 控制器相关联。
  属性 rproc (xlnx,rproc) 用于标识 APU（应用处理器单元）交互以找出总线和设备配置的远程处理器。
maintainers:
  - Nipun Gupta <nipun.gupta@amd.com>
  - Nikhil Agarwal <nikhil.agarwal@amd.com>

properties:
  compatible:
    const: xlnx,versal-net-cdx

  iommu-map: true

  msi-map: true

  xlnx,rproc:
    $ref: /schemas/types.yaml#/definitions/phandle
    description:
      通过该属性指明 APU 与远程处理器交互的 remoteproc_r5 rproc 节点的 phandle
ranges: true

  "#address-cells":
    enum: [1, 2]

  "#size-cells":
    enum: [1, 2]

required:
  - compatible
  - iommu-map
  - msi-map
  - xlnx,rproc
  - ranges
  - "#address-cells"
  - "#size-cells"

additionalProperties: false

examples:
  - |
    cdx {
        compatible = "xlnx,versal-net-cdx";
        #address-cells = <1>;
        #size-cells = <1>;
        /* 定义 RIDs 250-259 的映射 */
        iommu-map = <250 &smmu 250 10>;
        /* 定义 RIDs 250-259 的 msi 映射 */
        msi-map = <250 &its 250 10>;
        xlnx,rproc = <&remoteproc_r5>;
        ranges;
    };
```
```
