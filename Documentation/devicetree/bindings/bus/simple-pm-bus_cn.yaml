# SPDX-许可证标识符: GPL-2.0
%YAML 1.2
---
$id: http://devicetree.org/schemas/bus/simple-pm-bus.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

标题: 简单电源管理总线

维护者:
  - Geert Uytterhoeven <geert+renesas@glider.be>

描述: |
  一个简单的电源管理总线是一个透明的总线，它不需要一个真正的驱动程序，因为它通常由引导加载程序初始化。
然而，其总线控制器是电源管理域(PM域)的一部分，或受功能时钟的控制。因此，为了使连接到该总线(无论是片上还是外部)的子设备正常工作，必须启用总线控制器的PM域和/或时钟。
虽然"simple-pm-bus"遵循设备树规范中指定的"simple-bus"属性集，但它并不是"simple-bus"的扩展。
属性:
  $nodename:
    模式: "^bus(@[0-9a-f]+)?$"

  compatible:
    包含:
      常量: simple-pm-bus
    描述:
      应包含"simple-pm-bus"，除了在各个pm-bus绑定中定义的可选总线特定兼容字符串外
'#address-cells':
    枚举: [ 1, 2 ]

  '#size-cells':
    枚举: [ 1, 2 ]

  ranges: true

  clocks: true
    # 功能时钟
    # 如果power-domains不存在，则必需；否则为可选

  power-domains:
    # 如果clocks不存在，则必需；否则为可选
    最小项: 1

必需:
  - compatible
  - '#address-cells'
  - '#size-cells'
  - ranges

anyOf:
  - 必需:
      - clocks
  - 必需:
      - power-domains

其他属性: true

示例:
  - |
    #include <dt-bindings/clock/qcom,gcc-msm8996.h>
    #include <dt-bindings/interrupt-controller/irq.h>

    bus {
        power-domains = <&gcc AGGRE0_NOC_GDSC>;
        compatible = "simple-pm-bus";
        #address-cells = <1>;
        #size-cells = <1>;
        ranges;
    };
