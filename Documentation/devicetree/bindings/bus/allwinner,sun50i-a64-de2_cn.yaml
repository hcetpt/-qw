# SPDX-许可证标识符: GPL-2.0
%YAML 1.2
---
$id: http://devicetree.org/schemas/bus/allwinner,sun50i-a64-de2.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

标题: Allwinner A64 显示引擎总线

维护者:
  - 陈宇 蔡 <wens@csie.org>
  - 马克西姆·里帕德 <mripard@kernel.org>

属性:
  $nodename:
    模式: "^bus(@[0-9a-f]+)?$"

  "#address-cells":
    常量: 1

  "#size-cells":
    常量: 1

  compatible:
    oneOf:
      - 常量: allwinner,sun50i-a64-de2
      - items:
          - 常量: allwinner,sun50i-h6-de3
          - 常量: allwinner,sun50i-a64-de2

  reg:
    maxItems: 1

  allwinner,sram:
    描述:
      需要声明的SRAM以访问显示引擎总线
$ref: /schemas/types.yaml#/definitions/phandle-array
    items:
      - items:
          - 描述: SRAM 的 phandle
          - 描述: 设备的寄存器值

  ranges: 真

模式属性:
  # 所有其他属性应该是具有 unit-address 和 'reg' 的子节点
  "^[a-zA-Z][a-zA-Z0-9,+\\-._]{0,63}@[0-9a-fA-F]+$":
    类型: 对象
    additionalProperties: 真
    属性:
      reg:
        maxItems: 1

    必需:
      - reg

必需:
  - compatible
  - reg
  - "#address-cells"
  - "#size-cells"
  - ranges
  - allwinner,sram

additionalProperties: 假

示例:
  - |
    bus@1000000 {
        compatible = "allwinner,sun50i-a64-de2";
        reg = <0x1000000 0x400000>;
        allwinner,sram = <&de2_sram 1>;
        #address-cells = <1>;
        #size-cells = <1>;
        ranges = <0 0x1000000 0x400000>;

        display_clocks: clock@0 {
            compatible = "allwinner,sun50i-a64-de2-clk";
            reg = <0x0 0x100000>;
            clocks = <&ccu 52>, <&ccu 99>;
            clock-names = "bus", "mod";
            resets = <&ccu 30>;
            #clock-cells = <1>;
            #reset-cells = <1>;
        };
    };

..
