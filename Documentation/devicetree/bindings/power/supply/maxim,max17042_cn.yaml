# SPDX-许可证标识符: GPL-2.0
%YAML 1.2
---
$id: http://devicetree.org/schemas/power/supply/maxim,max17042.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

标题: Maxim 17042 燃料表系列

维护者:
  - Sebastian Reichel <sre@kernel.org>

allOf:
  - $ref: power-supply.yaml#

属性:
  compatible:
    枚举:
      - maxim,max17042
      - maxim,max17047
      - maxim,max17050
      - maxim,max17055
      - maxim,max77849-battery

  reg:
    最大项数: 1

  interrupts:
    最大项数: 1
    描述: |
      ALRT 引脚，一个开漏中断
maxim,rsns-microohm:
    $ref: /schemas/types.yaml#/definitions/uint32
    描述: |
      rsns 电阻器的电阻值（以微欧为单位）（数据手册推荐值为 10000）
定义此属性可启用电流感应功能
maxim,cold-temp:
    $ref: /schemas/types.yaml#/definitions/uint32
    描述: |
      报告电池温度过低的温度阈值（以十分之一摄氏度为单位）
默认情况下不报告低温事件
maxim,over-heat-temp:
    $ref: /schemas/types.yaml#/definitions/uint32
    描述: |
      报告电池过热的温度阈值（以十分之一摄氏度为单位）
默认情况下不报告过热事件
maxim,dead-volt:
    $ref: /schemas/types.yaml#/definitions/uint32
    描述: |
      报告电池失效的电压阈值（以毫伏为单位）
默认情况下不报告电池失效事件
maxim,over-volt:
    $ref: /schemas/types.yaml#/definitions/uint32
    描述: |
      报告电池过压的电压阈值（以毫伏为单位）
默认情况下不报告过压事件。
电源供应器：真

必需的：
  - 兼容性
  - 注册地址（`reg`）

额外属性：不允许

示例：
  - |
    i2c {
      #address-cells = <1>;
      #size-cells = <0>;

      battery@36 {  # 在I2C总线上地址为0x36的设备
        compatible = "maxim,max17042";  # 设备兼容性字符串
        reg = <0x36>;  # 设备注册地址
        maxim,rsns-microohm = <10000>;  # MAXIM IC的RSENSE电阻值（微欧）
        maxim,over-heat-temp = <600>;   # 过热温度阈值（10°C = 100，因此这里表示60°C）
        maxim,over-volt = <4300>;       # 过压电压阈值（毫伏，即4.3V）
      };
    };
