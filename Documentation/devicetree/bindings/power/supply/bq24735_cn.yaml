# SPDX-许可证标识符: GPL-2.0
# 版权所有 (C) 2021 Sebastian Reichel
%YAML 1.2
---
$id: http://devicetree.org/schemas/power/supply/bq24735.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

标题: TI BQ24735 锂离子电池充电器

维护者:
  - Sebastian Reichel <sre@kernel.org>

allOf:
  - $ref: power-supply.yaml#

属性:
  compatible:
    常量: ti,bq24735

  reg:
    最大项数: 1

  interrupts:
    描述: 交流适配器插拔事件中断
    最大项数: 1

  ti,ac-detect-gpios:
    最大项数: 1
    描述: |
      此 GPIO 可选地用于读取交流适配器的状态。这是一个主机 GPIO，配置为输入并连接到 bq24735 上的 ACOK 引脚。
注意：出于向后兼容性的原因，尽管 ACOK 在交流适配器插入时为激活（高）状态，但 GPIO 必须在交流适配器未插入时处于激活状态。
  ti,charge-current:
    $ref: /schemas/types.yaml#/definitions/uint32
    描述: |
      用于控制和设置充电电流
此值必须介于 128mA 和 8.128A 之间，步长分辨率为 64mA
上电复位 (POR) 值是 0x0000h。这个数字以毫安 (mA) 表示（例如，8192）
有关 ChargeCurrent (0x14h) 寄存器的更多信息，请参阅规格书。
  ti,charge-voltage:
    $ref: /schemas/types.yaml#/definitions/uint32
    描述: |
      用于控制和设置充电电压
此值必须介于 1.024V 和 19.2V 之间，步长分辨率为 16mV
上电复位 (POR) 值是 0x0000h。这个数字以毫伏 (mV) 表示（例如，19200）
有关 ChargeVoltage (0x15h) 寄存器的更多信息，请参阅规格书。
Here's the translation into Chinese:

```yaml
ti,input-current:
    $ref: /schemas/types.yaml#/definitions/uint32
    description: |
      用于控制和设置充电器的输入电流。
      此值必须在 128mA 和 8.064A 之间，步长分辨率为 128mA。
      上电复位（POR）值为 0x1000h。此数字以毫安（例如 8064）表示。
      有关 InputCurrent (0x3fh) 寄存器的更多信息，请参阅规格文档。
ti,external-control:
    type: 布尔值
    description: |
      指示充电器是否由外部配置，并且主机不应尝试启用/禁用充电或设置充电电压/电流。
poll-interval:
    $ref: /schemas/types.yaml#/definitions/uint32
    description: |
      如果未指定 'interrupts'，则使用此间隔（毫秒）轮询 AC 适配器的存在状态。
required:
  - compatible
  - reg

additionalProperties: false

examples:
  - |
    #include <dt-bindings/gpio/gpio.h>

    i2c {
      #address-cells = <1>;
      #size-cells = <0>;

      charger@9 {
        compatible = "ti,bq24735";
        reg = <0x9>;
        ti,ac-detect-gpios = <&gpio 72 0x1>;
      };
    };
```

说明：
- `ti,input-current`: 控制并设置充电器的输入电流。此值必须在 128mA 到 8.064A 之间，步长分辨率为 128mA。上电复位（POR）值为 0x1000h，这个数字以毫安表示（比如 8064）。更多关于 InputCurrent (0x3fh) 寄存器的信息，请参见规格文档。
- `ti,external-control`: 类型为布尔值。指示充电器是否由外部配置，以及主机不应尝试启用/禁用充电或设置充电电压/电流。
- `poll-interval`: 如果未指定 'interrupts'，则使用此间隔（毫秒）来轮询 AC 适配器的存在状态。
- `required` 和 `additionalProperties`: 分别指定了必需的属性和不允许有额外属性。
- 示例部分展示了如何在设备树中配置一个使用 TI bq24735 充电器的例子，包括地址、兼容性声明等。
