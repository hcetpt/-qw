# SPDX-文件许可人: GPL-2.0
%YAML 1.2
---
$id: http://devicetree.org/schemas/power/supply/maxim,max8903.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

标题: Maxim Semiconductor MAX8903 电池充电器

维护者:
  - Sebastian Reichel <sre@kernel.org>

allOf:
  - $ref: power-supply.yaml#

属性:
  compatible:
    常量: maxim,max8903

  dok-gpios:
    最大项数: 1
    描述: 检测到有效的直流电源（低电平有效，输入）

  uok-gpios:
    最大项数: 1
    描述: 检测到有效的USB电源（低电平有效，输入）

  cen-gpios:
    最大项数: 1
    描述: 充电使能引脚（低电平有效，输出）

  chg-gpios:
    最大项数: 1
    描述: 充电器状态引脚（低电平有效，输入）

  flt-gpios:
    最大项数: 1
    描述: 故障引脚（低电平有效，输入）

  dcm-gpios:
    最大项数: 1
    描述: 电流限制模式设置（DC=1 或 USB=0，输出）

  usus-gpios:
    最大项数: 1
    描述: USB挂起引脚（高电平有效，输出）

必需:
  - compatible

anyOf:
  - 必需:
      - dok-gpios
  - 必需:
      - uok-gpios

附加属性: false

示例:
  - |
    #include <dt-bindings/gpio/gpio.h>
    charger {
      compatible = "maxim,max8903";
      dok-gpios = <&gpio2 3 GPIO_ACTIVE_LOW>;
      flt-gpios = <&gpio2 2 GPIO_ACTIVE_LOW>;
      chg-gpios = <&gpio3 15 GPIO_ACTIVE_LOW>;
      cen-gpios = <&gpio2 5 GPIO_ACTIVE_LOW>;
    };
