```yaml
# SPDX-License-Identifier: GPL-2.0-only OR BSD-2-Clause
%YAML 1.2
---
$id: http://devicetree.org/schemas/power/supply/rohm,bd99954.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: ROHM BD99954 电池充电器

maintainers:
  - Matti Vaittinen <mazziesaccount@gmail.com>
  - Markus Laine <markus.laine@fi.rohmeurope.com>
  - Mikko Mutanen <mikko.mutanen@fi.rohmeurope.com>

description: |
  ROHM BD99954 是一款用于 1-4 节锂离子二次电池的电池管理 LSI，旨在用于空间受限的设备，如低剖面笔记本电脑、平板电脑等应用。BD99954 提供双源电池充电器、两个端口的 BC1.2 检测以及电池监控。
$ref: power-supply.yaml#

properties:
  compatible:
    const: rohm,bd99954
#
#    BD99954 的电池充电配置文件
#
#    曲线 (1) 表示充电电流
#    曲线 (2) 表示电池电压
#
#    BD99954 数据手册将充电分为三个阶段
#    a) 恒流涓流充电 (8)
#    b) 恒流预充电 (6)
#    c) 快速充电：
#       首先是一个恒流 (5) 阶段 (CC)
#       然后是当电池电压达到目标水平后进入的恒压 (CV) 阶段（直到充电电流降至终止水平 (7))
#
#     V ^                                                        ^ I
#       .
#       .
# (4)- -.- - - - - - - - - - - - - -  +++++++++++++++++++++++++++
#       .                            /
```
这段文字似乎是用特殊的字符绘制的一幅简单的图形或者图案，并没有实际的文字含义，所以无法直接翻译。但是，我可以尝试描述一下这个图案。

如果将其描述为中文，可以是这样的：

```
这是由特殊字符组成的一个简单图案，看起来像是一个倾斜的、抽象的树或植物。
在第五行有一个数字(5)，似乎标记了某一部分。
从第二行开始，逐渐展开，形成树枝或叶片的部分。
在第二行还有一个数字(2)，可能标记了另一部分。
整个图案由点(.), 加号(+), 减号(-), 和引号(")等字符构成。
```

请注意，由于原始文本是由特殊符号组成的图形而非具有明确含义的文字，因此上述描述仅是对图案的大致解释。
此文档描述了一个基于Rohm BD99954芯片的充电器配置示例，用于在设备树中定义电池充电管理。下面是文档的中文翻译：

```
# (3)- -.-.""- - - - -+++++++++ - - - - - - -.:- - - - - - - - - .- - (6)
#       .             +                       `:.
#       .             +               |         -:
#       .             +                           -:
#       .             +                             ..
#       .   (1)       +               |               "+++- - - -.- - (7)
#       -++++++++++++++- - - - - - - - - - - - - - - - - + - - - .- - (8)
#       .                                                +       -
#       -------------------------------------------------+++++++++-->
#       |             |       |   CC   |      CV         |
#       | --trickle-- | -pre- | ---------fast----------- |
#
# 充电器使用了以下电池属性：
# - 滴流充电电流（微安）：
#     在滴流充电阶段（图中8）使用的电流
#     最小值：64000
#     最大值：1024000
#     倍数：64000
# - 预充电电流（微安）：
#     在预充电阶段（图中6）使用的电流
#     最小值：64000
#     最大值：1024000
#     倍数：64000
# - 快充恒流最大电流（微安）
#     在快速充电恒流阶段（图中5）使用的电流
#     最小值：64000
#     最大值：1024000
#     倍数：64000
# - 快充恒压最大电压（微伏）
#     在快速充电阶段使用的恒定电压（图中4）
#     最小值：2560000
#     最大值：19200000
#     倍数：16000
# - 预充电上限电压（微伏）
#     当电池电压超过这个限值时，充电模式会从滴流充电转变为预充电（图中3）
#     最小值：2048000
#     最大值：19200000
#     倍数：64000
# - 再充电电压（微伏）
#     最小值：2560000
#     最大值：19200000
#     倍数：16000
#     当电池放电至电压低于此阈值时，自动开始再充电
# - 过压阈值（微伏）
#     如果电池电压超过此限值，则认为电池有问题
#     充电器将进入“电池故障”状态
#     最小值：2560000
#     最大值：19200000
#     倍数：16000
# - 充电终止电流（微安）
#     最小值：0
#     最大值：1024000
#     倍数：64000
#     当电池电压高于再充电阈值且电流低于此设置时（图中7），一个充电周期结束
# 参见：Documentation/devicetree/bindings/power/supply/battery.yaml

reg:
  maxItems: 1

interrupts:
  maxItems: 1

monitored-battery:
  description:
    电池特性的设备树节点的phandle

rohm,vsys-regulation-microvolt:
  description: 系统特定的系统电压下限
  minimum: 2560000
  maximum: 19200000
  multipleOf: 64000

rohm,vbus-input-current-limit-microamp:
  description: 系统特定的VBUS输入电流限制（微安）
  minimum: 32000
  maximum: 16352000
  multipleOf: 32000

rohm,vcc-input-current-limit-microamp:
  description: 系统特定的VCC/VACP输入电流限制（微安）
  minimum: 32000
  maximum: 16352000
  multipleOf: 32000

required:
  - compatible

additionalProperties: false

examples:
  - |
    i2c {
        #address-cells = <1>;
        #size-cells = <0>;
        charger@9 {
            compatible = "rohm,bd99954";
            monitored-battery = <&battery>;
            reg = <0x9>;
            interrupt-parent = <&gpio1>;
            interrupts = <29 8>;
            rohm,vsys-regulation-microvolt = <8960000>;
            rohm,vbus-input-current-limit-microamp = <1472000>;
            rohm,vcc-input-current-limit-microamp = <1472000>;
        };
    };
```

请注意，此配置示例用于说明如何在设备树中定义Rohm BD99954充电器节点。其中包含了充电器与电池交互的关键参数及其范围。```
