# SPDX-许可证标识符: GPL-2.0
%YAML 1.2
---
$id: http://devicetree.org/schemas/power/supply/lego,ev3-battery.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

标题: LEGO MINDSTORMS EV3 电池

维护者:
  - David Lechner <david@lechnology.com>
  - Sebastian Reichel <sre@kernel.org>

描述: |
  LEGO MINDSTORMS EV3 具有一些内置的功能来监控电池状态。
  它使用 6 节 AA 电池或一种特殊的锂离子可充电电池包，该电池包通过电池仓内的钥匙开关进行检测。
allOf:
  - $ref: power-supply.yaml#

属性:
  compatible:
    常量: lego,ev3-battery

  io-channels:
    项目:
      - 描述: 用于电池电压的 ADC 通道
      - 描述: 用于电池电流的 ADC 通道

  io-channel-names:
    项目:
      - 常量: voltage
      - 常量: current

  rechargeable-gpios:
    最大项目数: 1
    描述: 可充电电池指示的 GPIO

必需:
  - compatible
  - io-channels
  - io-channel-names
  - rechargeable-gpios

附加属性: false

示例:
  - |
    #include <dt-bindings/gpio/gpio.h>
    battery {
      compatible = "lego,ev3-battery";
      io-channels = <&adc 4>, <&adc 3>;
      io-channel-names = "voltage", "current";
      rechargeable-gpios = <&gpio 136 GPIO_ACTIVE_LOW>;
    };
