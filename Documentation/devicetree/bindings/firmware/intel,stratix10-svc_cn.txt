Intel Stratix10 SoC 服务层驱动程序
============================================

Intel Stratix10 SoC 系统由一个 64 位四核 ARM Cortex A53 硬件处理器系统 (HPS) 和安全设备管理器 (SDM) 组成。当从 HPS 配置 FPGA 时，需要一种方法让 HPS 通知 SDM 配置数据的位置和大小。然后 SDM 将从该位置获取配置数据并执行 FPGA 配置。

为了满足整个系统的安全需求并支持虚拟机请求与 SDM 的通信，只有运行在安全世界（EL3，异常层 3）的软件才能与 SDM 接口。所有在其他异常层上运行的软件实体在需要 SDM 提供服务时都必须通过 EL3 软件进行。

Intel Stratix10 服务层驱动程序运行在特权异常层（EL1，异常层 1），与服务提供者接口，并为 FPGA 配置、QSPI、加密和热重置等提供服务。服务层驱动程序还管理安全监视调用 (SMC)，以便与在 EL3 中运行的安全监视代码进行通信。

所需属性：
-------------------

svc 节点具有以下必需属性，必须位于 firmware 节点下：

- compatible: "intel,stratix10-svc" 或 "intel,agilex-svc"
- method: smc 或 hvc
        smc - 安全监视调用
        hvc - 虚拟机调用
- memory-region:
	指向保留内存节点的 phandle。详情请参阅 Documentation/devicetree/bindings/reserved-memory/reserved-memory.txt

示例：
-------

```devicetree
reserved-memory {
        #address-cells = <2>;
        #size-cells = <2>;
        ranges;

        service_reserved: svcbuffer@0 {
                compatible = "shared-dma-pool";
                reg = <0x0 0x0 0x0 0x1000000>;
                alignment = <0x1000>;
                no-map;
        };
};

firmware {
	svc {
		compatible = "intel,stratix10-svc";
		method = "smc";
		memory-region = <&service_reserved>;
	};
};
```
