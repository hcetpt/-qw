# SPDX-许可证标识符: (GPL-2.0-only 或 BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/rtc/brcm,brcmstb-waketimer.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Broadcom STB 唤醒计时器

maintainers:
  - Florian Fainelli <f.fainelli@gmail.com>

description:
  Broadcom STB 唤醒计时器提供了一个具有 27MHz 分辨率的计时器，具备从低功耗挂起/待机模式唤醒系统的能力，并可选地生成 RTC 报警中断。
allOf:
  - $ref: rtc.yaml#

properties:
  compatible:
    const: brcm,brcmstb-waketimer

  reg:
    maxItems: 1

  interrupts:
    minItems: 1
    items:
      - description: TIMER 中断
      - description: ALARM 中断
    description:
      TIMER 中断会从低功耗挂起/待机模式唤醒系统。可指定 ALARM 中断，在 RTC 报警被启用时中断 CPU。
clocks:
    description: 在 27MHz 域中的时钟参考
    maxItems: 1

additionalProperties: false

examples:
  - |
    rtc@f041a080 {
        compatible = "brcm,brcmstb-waketimer";
        reg = <0xf041a080 0x14>;
        interrupts-extended = <&aon_pm_l2_intc 0x04>,
                              <&upg_aux_aon_intr2_intc 0x08>;
        clocks = <&upg_fixed>;
    };
