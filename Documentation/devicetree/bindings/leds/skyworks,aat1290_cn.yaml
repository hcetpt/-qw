```yaml
# SPDX-许可证标识符: GPL-2.0-only 或 BSD-2-Clause
%YAML 1.2
---
$id: http://devicetree.org/schemas/leds/skyworks,aat1290.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Skyworks Solutions, Inc. AAT1290 闪光灯电流调节器

maintainers:
  - Jacek Anaszewski <jacek.anaszewski@gmail.com>
  - Krzysztof Kozlowski <krzk@kernel.org>

description: |
  该设备通过两个引脚进行控制：FL_EN 和 EN_SET。当这两个引脚分别置高时，可以启用闪光灯和电影模式（最大为闪光电流的一半）。为了增加选择闪光信号源（例如，CPU或相机传感器）的能力，需要一个额外的开关，该开关独立于闪光芯片。此开关由引脚控制。
properties:
  compatible:
    const: skyworks,aat1290

  enset-gpios:
    maxItems: 1
    description: EN_SET 引脚

  flen-gpios:
    maxItems: 1
    description: FL_EN 引脚

  led:
    $ref: common.yaml#
    unevaluatedProperties: false

    properties:
      led-max-microamp: true

      flash-max-microamp:
        description: |
          最大闪光灯供电电流可以通过以下公式计算：I = 1A * 162 kOhm / Rset

      flash-max-timeout-us:
        description: |
          最大闪光超时时间可以通过以下公式计算：T = 8.82 * 10^9 * Ct
required:
  - flash-max-microamp
  - flash-max-timeout-us
  - led-max-microamp

  pinctrl-names:
    items:
      - const: default
      - const: host
      - const: isp

  pinctrl-0: true
  pinctrl-1: true
  pinctrl-2: true

required:
  - compatible
  - enset-gpios
  - flen-gpios
  - led

additionalProperties: false

examples:
  - |
    #include <dt-bindings/gpio/gpio.h>
    #include <dt-bindings/leds/common.h>

    // Ct = 220 nF, Rset = 160 kOhm
    led-controller {
        compatible = "skyworks,aat1290";
        flen-gpios = <&gpj1 1 GPIO_ACTIVE_HIGH>;
        enset-gpios = <&gpj1 2 GPIO_ACTIVE_HIGH>;

        pinctrl-names = "default", "host", "isp";
        pinctrl-0 = <&camera_flash_host>;
        pinctrl-1 = <&camera_flash_host>;
        pinctrl-2 = <&camera_flash_isp>;

        led {
            function = LED_FUNCTION_FLASH;
            color = <LED_COLOR_ID_WHITE>;
            led-max-microamp = <520833>;
            flash-max-microamp = <1012500>;
            flash-max-timeout-us = <1940000>;
        };
    };
```
请注意，`flash-max-timeout-us` 和 `flash-max-microamp` 在描述部分的翻译中缺少了必要的换行符，这可能会影响阅读的清晰度。在实际文档中，请确保这些长句正确地使用了换行符。
