```yaml
# SPDX-许可证标识符: (GPL-2.0 或 BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/leds/backlight/mps,mp3309c.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: MPS MP3309C 背光

maintainers:
  - Flavio Suligoi <f.suligoi@asem.it>

description: |
  Monolithic Power (MPS) MP3309C 是一款 WLED 升压转换器，具有可编程的开关频率以优化效率。
它支持两种不同的调光模式：

  - 模拟模式，默认模式（32级调光），通过 I2C 命令控制
  - PWM 控制模式（可选）

  数据手册可在以下网址获取：
  https://www.monolithicpower.com/en/mp3309c.html

allOf:
  - $ref: common.yaml#

properties:
  compatible:
    const: mps,mp3309c

  reg:
    maxItems: 1

  pwms:
    description: 如果存在，则背光在 PWM 模式下被控制
maxItems: 1

  enable-gpios:
    description: 用于在 "analog-i2c" 调光模式下启用背光的 GPIO
maxItems: 1

  mps,overvoltage-protection-microvolt:
    description: 过电压保护（13.5V、24V 或 35.5V）
enum: [ 13500000, 24000000, 35500000 ]
    default: 35500000

  mps,no-sync-mode:
    description: 禁用同步整流模式
    type: boolean

required:
  - compatible
  - reg

unevaluatedProperties: false

examples:
  - |
    i2c {
        #address-cells = <1>;
        #size-cells = <0>;

        /* 使用 PWM 控制的背光 */
        backlight_pwm: backlight@17 {
            compatible = "mps,mp3309c";
            reg = <0x17>;
            pwms = <&pwm1 0 3333333 0>; /* 300 Hz --> (1/f) * 1*10^9 */
            brightness-levels = <0 4 8 16 32 64 128 255>;
            default-brightness = <6>;
            mps,overvoltage-protection-microvolt = <24000000>;
        };
    };
```

此 YAML 文件定义了针对 Monolithic Power Systems (MPS) MP3309C 背光设备的 Device Tree 兼容性规范。MP3309C 是一种 WLED 升压转换器，可通过 I2C 或 PWM 控制来调节亮度。文档还包含了配置示例。
