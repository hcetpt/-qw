# SPDX-许可证标识符: GPL-2.0-only 或 BSD-2-Clause
%YAML 1.2
---
$id: http://devicetree.org/schemas/leds/cznic,turris-omnia-leds.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

标题: CZ.NIC 的 Turris Omnia LED 驱动程序

维护者:
  - Marek Behún <kabel@kernel.org>

描述:
  本模块为 Turris Omnia 路由器前面板上找到的 RGB LED 提供支持。该路由器上有 12 个 RGB LED，这些 LED 通过一个与 I2C 总线通信的微控制器进行控制。每个 LED 都被描述为此 I2C 设备的一个子节点。
属性:
  compatible:
    常量: cznic,turris-omnia-leds

  reg:
    描述: 微控制器的 I2C 从地址
最大项数: 1

  "#address-cells":
    常量: 1

  "#size-cells":
    常量: 0

模式属性:
  "^multi-led@[0-9a-b]$":
    类型: 对象
    $ref: leds-class-multicolor.yaml#
    未评估属性: false

    描述:
      此节点表示 Turris Omnia 上的一个 RGB LED 设备
由于此控制器仅支持 RGB LED，因此无需为子通道添加子节点
属性:
      reg:
        最小值: 0
        最大值: 11
        描述:
          此属性标识 Turris Omnia 路由器前面板上的一个 LED
必需:
      - reg

附加属性: false

示例:
  - |

    #include <dt-bindings/leds/common.h>

    i2c {
        #address-cells = <1>;
        #size-cells = <0>;

        led-controller@2b {
            compatible = "cznic,turris-omnia-leds";
            reg = <0x2b>;
            #address-cells = <1>;
            #size-cells = <0>;

            multi-led@0 {
                /*
                 * 无需添加子节点，此控制器仅支持 RGB LED
*/
                reg = <0>;
                color = <LED_COLOR_ID_MULTI>;
                function = LED_FUNCTION_POWER;
                linux,default-trigger = "heartbeat";
            };

            multi-led@a {
                reg = <0xa>;
                color = <LED_COLOR_ID_MULTI>;
                function = LED_FUNCTION_INDICATOR;
                function-enumerator = <1>;
            };
        };
    };

..
