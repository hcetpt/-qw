# SPDX-许可证标识符: (GPL-2.0-only 或 BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/soc/qcom/qcom,aoss-qmp.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

标题: 高通始终在线子系统旁路通道

维护者:
  - Bjorn Andersson <bjorn.andersson@linaro.org>

描述:
  此绑定描述了负责与始终在线子系统（AOSS）进行旁路请求的硬件组件，该系统用于处理某些电源管理请求，这些请求不由标准RPMh接口处理。SoC中的每个客户端都有自己的消息RAM块和IRQ来与AOSS通信。
通信中使用的消息RAM中的协议被称为高通消息协议（QMP）。

  AOSS旁路通道提供了一组资源的控制，用于控制一组与调试相关的时钟，并影响与次级子系统相关的资源的低功耗状态。
属性:
  compatible:
    items:
      - 枚举:
          - qcom,qdu1000-aoss-qmp
          - qcom,sa8775p-aoss-qmp
          - qcom,sc7180-aoss-qmp
          - qcom,sc7280-aoss-qmp
          - qcom,sc8180x-aoss-qmp
          - qcom,sc8280xp-aoss-qmp
          - qcom,sdx75-aoss-qmp
          - qcom,sdm845-aoss-qmp
          - qcom,sm6350-aoss-qmp
          - qcom,sm8150-aoss-qmp
          - qcom,sm8250-aoss-qmp
          - qcom,sm8350-aoss-qmp
          - qcom,sm8450-aoss-qmp
          - qcom,sm8550-aoss-qmp
          - qcom,sm8650-aoss-qmp
          - qcom,x1e80100-aoss-qmp
      - 常量: qcom,aoss-qmp

  reg:
    maxItems: 1
    描述:
      此客户端与AOSS通信的消息RAM的基地址和大小

  interrupts:
    maxItems: 1
    描述:
      应指定此客户端的AOSS消息IRQ

  mboxes:
    maxItems: 1
    描述:
      引用代表此客户端APCS中传出门铃的邮箱，如mailbox/mailbox.txt所述

  "#clock-cells":
    常量: 0
    描述:
      单个时钟代表QDSS时钟
必需:
  - compatible
  - reg
  - interrupts
  - mboxes
  - "#clock-cells"

additionalProperties: false

模式属性:
  "^(cx|mx|ebi)$":
    类型: 对象
    描述:
      AOSS旁路通道还提供了对三个冷却设备的控制，这些设备作为QMP节点的子节点表示。节点的名称用于标识资源，因此必须为"cx"、"mx"或"ebi"
属性:
      "#cooling-cells":
        常量: 2

    必需:
      - "#cooling-cells"

    additionalProperties: false

示例:
  - |
    #include <dt-bindings/interrupt-controller/arm-gic.h>

    aoss_qmp: qmp@c300000 {
      compatible = "qcom,sdm845-aoss-qmp", "qcom,aoss-qmp";
      reg = <0x0c300000 0x100000>;
      interrupts = <GIC_SPI 389 IRQ_TYPE_EDGE_RISING>;
      mboxes = <&apss_shared 0>;

      #clock-cells = <0>;

      cx_cdev: cx {
        #cooling-cells = <2>;
      };

      mx_cdev: mx {
        #cooling-cells = <2>;
      };
    };
..
