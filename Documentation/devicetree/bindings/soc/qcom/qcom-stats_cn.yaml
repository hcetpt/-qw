# SPDX-许可证标识符: (GPL-2.0-only 或 BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/soc/qcom/qcom-stats.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

标题: 高通技术公司 (QTI) 统计信息

维护者:
  - Maulik Shah <quic_mkshah@quicinc.com>

描述:
  始终在线处理器/资源电源管理器维护了涉及关闭电压轨和振荡器时钟的SoC休眠模式的统计信息。
  统计信息包括SoC休眠模式类型、进入低功耗模式的次数、最后一次进入的时间、最后一次退出的时间以及累积的睡眠持续时间。
属性:
  compatible:
    枚举:
      - qcom,rpmh-stats
      - qcom,sdm845-rpmh-stats
      - qcom,rpm-stats
      # 对于旧版RPM固件版本，其中睡眠统计信息有固定的偏移量
      - qcom,apq8084-rpm-stats
      - qcom,msm8226-rpm-stats
      - qcom,msm8916-rpm-stats
      - qcom,msm8974-rpm-stats

  reg:
    maxItems: 1

  qcom,qmp:
    $ref: /schemas/types.yaml#/definitions/phandle
    描述: 引用到始终在线侧通道消息RAM

必需:
  - compatible
  - reg

allOf:
  - if:
      not:
        properties:
          compatible:
            const: qcom,rpmh-stats
    then:
      properties:
        qcom,qmp: false

additionalProperties: false

示例:
  # rpmh睡眠统计信息的示例
  - |
    sram@c3f0000 {
      compatible = "qcom,rpmh-stats";
      reg = <0x0c3f0000 0x400>;
    };
  # rpm睡眠统计信息的示例
  - |
    sram@4690000 {
      compatible = "qcom,rpm-stats";
      reg = <0x04690000 0x10000>;
    };
