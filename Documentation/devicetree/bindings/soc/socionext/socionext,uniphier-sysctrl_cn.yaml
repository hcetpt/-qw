# SPDX-许可证标识符: (GPL-2.0-only 或 BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/soc/socionext/socionext,uniphier-sysctrl.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

标题: Socionext UniPhier 系统控制器

维护者:
  - Kunihiko Hayashi <hayashi.kunihiko@socionext.com>

描述: |+
  在 Socionext UniPhier 系统级芯片 (SoC) 上实现的系统控制器具有多种功能，如时钟控制、复位控制、内部看门狗定时器、热管理等。
属性:
  compatible:
    项目:
      - 枚举:
          - socionext,uniphier-ld4-sysctrl
          - socionext,uniphier-pro4-sysctrl
          - socionext,uniphier-pro5-sysctrl
          - socionext,uniphier-pxs2-sysctrl
          - socionext,uniphier-sld8-sysctrl
          - socionext,uniphier-ld11-sysctrl
          - socionext,uniphier-ld20-sysctrl
          - socionext,uniphier-pxs3-sysctrl
          - socionext,uniphier-nx1-sysctrl
      - 常量: simple-mfd
      - 常量: syscon

  reg:
    最大项数: 1

  clock-controller:
    $ref: /schemas/clock/socionext,uniphier-clock.yaml#

  reset-controller:
    $ref: /schemas/reset/socionext,uniphier-reset.yaml#

  watchdog:
    $ref: /schemas/watchdog/socionext,uniphier-wdt.yaml#

  thermal-sensor:
    $ref: /schemas/thermal/socionext,uniphier-thermal.yaml#

allOf:
  - 如果:
      属性:
        compatible:
          包含:
            常量: socionext,uniphier-ld4-sysctrl
    那么:
      属性:
        watchdog: false

  - 如果:
      属性:
        compatible:
          包含:
            枚举:
              - socionext,uniphier-ld4-sysctrl
              - socionext,uniphier-pro4-sysctrl
              - socionext,uniphier-sld8-sysctrl
              - socionext,uniphier-ld11-sysctrl
    那么:
      属性:
        thermal-sensor: false

additionalProperties: false

必需:
  - compatible
  - reg

示例:
  - |
    #include <dt-bindings/interrupt-controller/arm-gic.h>
    syscon@61840000 {
        compatible = "socionext,uniphier-ld20-sysctrl",
                     "simple-mfd", "syscon";
        reg = <0x61840000 0x4000>;

        clock-controller {
            compatible = "socionext,uniphier-ld20-clock";
            #clock-cells = <1>;
        };

        reset-controller {
            compatible = "socionext,uniphier-ld20-reset";
            #reset-cells = <1>;
        };

        watchdog {
            compatible = "socionext,uniphier-wdt";
        };

        thermal-sensor {
            compatible = "socionext,uniphier-ld20-thermal";
            interrupts = <GIC_SPI 3 IRQ_TYPE_LEVEL_HIGH>;
            #thermal-sensor-cells = <0>;
        };
    };
