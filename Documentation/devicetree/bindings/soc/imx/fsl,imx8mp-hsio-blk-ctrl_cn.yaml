# SPDX-许可证标识符: (GPL-2.0-only 或 BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/soc/imx/fsl,imx8mp-hsio-blk-ctrl.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

标题: NXP i.MX8MP HSIO blk-ctrl

维护者:
  - Lucas Stach <l.stach@pengutronix.de>

描述:
  i.MX8MP HSIO blk-ctrl 是一个顶层外设，提供对 NoC 的访问，并确保位于 SoC 的 HSIO 域中的高速 I/O（USB 和 PCIe）外设的正确电源排序。

属性:
  compatible:
    项目:
      - 常量: fsl,imx8mp-hsio-blk-ctrl
      - 常量: syscon

  reg:
    最大项数: 1

  '#power-domain-cells':
    常量: 1

  power-domains:
    最小项数: 6
    最大项数: 6

  power-domain-names:
    项目:
      - 常量: bus
      - 常量: usb
      - 常量: usb-phy1
      - 常量: usb-phy2
      - 常量: pcie
      - 常量: pcie-phy

  '#clock-cells':
    常量: 0

  clocks:
    最小项数: 2
    最大项数: 2

  clock-names:
    项目:
      - 常量: usb
      - 常量: pcie

  interconnects:
    最大项数: 4

  interconnect-names:
    项目:
      - 常量: noc-pcie
      - 常量: usb1
      - 常量: usb2
      - 常量: pcie

必需:
  - compatible
  - reg
  - power-domains
  - power-domain-names
  - clocks
  - clock-names

额外属性: false

示例:
  - |
    #include <dt-bindings/clock/imx8mp-clock.h>
    #include <dt-bindings/power/imx8mp-power.h>

    blk-ctrl@32f10000 {
        compatible = "fsl,imx8mp-hsio-blk-ctrl", "syscon";
        reg = <0x32f10000 0x24>;
        clocks = <&clk IMX8MP_CLK_USB_ROOT>,
                 <&clk IMX8MP_CLK_PCIE_ROOT>;
        clock-names = "usb", "pcie";
        power-domains = <&pgc_hsiomix>, <&pgc_hsiomix>,
                        <&pgc_usb1_phy>, <&pgc_usb2_phy>,
                        <&pgc_hsiomix>, <&pgc_pcie_phy>;
        power-domain-names = "bus", "usb", "usb-phy1",
                             "usb-phy2", "pcie", "pcie-phy";
        #power-domain-cells = <1>;
        #clock-cells = <0>;
    };
