# SPDX-许可证标识符: (GPL-2.0-only 或 BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/soc/fsl/fsl,bman.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

标题: QorIQ DPAA 缓冲区管理器

维护者:
  - Frank Li <Frank.Li@nxp.com>

描述:
  缓冲区管理器是数据路径加速架构（DPAA）的一部分。
  BMan 支持硬件分配和释放属于池的缓冲区，这些池最初由软件创建，并具有可配置的耗尽阈值。
  此绑定涵盖了 CCSR 空间编程模型。

属性:
  compatible:
    oneOf:
      - const: fsl,bman
      - items:
          - enum:
              - fsl,ls1043a-bman
              - fsl,ls1046a-bman
          - const: fsl,bman

  reg:
    items:
      - 描述: |
          在 CCSR 地址空间内的寄存器区域

          BMan 的版本信息位于 BMAN_IP_REV_1/2 寄存器中，这些寄存器位于偏移量 0xbf8 和 0xbfc 处

  interrupts:
    items:
      - 描述: 错误中断

  memory-region:
    minItems: 1
    maxItems: 2
    描述:
      引用 BMan 私有内存节点的 phandle 列表（如下所述）。bman-fqd 节点必须在 bman-pfdr 节点之前。仅用于 ARM

      通过直接连接端口（DCP）连接到 BMan 实例的设备必须链接到相应的 BMan 实例

  fsl,bman-portals:
    $ref: /schemas/types.yaml#/definitions/phandle
    描述: 引用 fsl,bman-port.yaml

  fsl,liodn:
    $ref: /schemas/types.yaml#/definitions/uint32-array
    描述:
      参见 pamu.txt，PAMU 属性用于静态 LIODN 分配

  fsl,iommu-parent:
    $ref: /schemas/types.yaml#/definitions/phandle
    描述:
      参见 pamu.txt，PAMU 属性用于动态 LIODN 分配

必需:
  - compatible
  - reg
  - interrupts

额外属性: false

示例:
  - |
    #include <dt-bindings/interrupt-controller/irq.h>

    bman@31a000 {
        compatible = "fsl,bman";
        reg = <0x31a000 0x1000>;
        interrupts = <16 IRQ_TYPE_EDGE_FALLING 1 2>;
        fsl,liodn = <0x17>;
        fsl,bman-portals = <&bportals>;
        memory-region = <&bman_fbpr>;
    };
