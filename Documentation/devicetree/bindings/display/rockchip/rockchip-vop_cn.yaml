# SPDX-许可证标识符: GPL-2.0
%YAML 1.2
---
$id: http://devicetree.org/schemas/display/rockchip/rockchip-vop.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

标题: Rockchip SoC 显示控制器 (VOP)

描述:
  VOP (视频输出处理器) 是为Rockchip系列系统级芯片(SoC)设计的显示控制器，它将图像数据从视频内存缓冲区传输到外部LCD接口。
维护者:
  - Sandy Huang <hjc@rock-chips.com>
  - Heiko Stuebner <heiko@sntech.de>

属性:
  compatible:
    枚举:
      - rockchip,px30-vop-big
      - rockchip,px30-vop-lit
      - rockchip,rk3036-vop
      - rockchip,rk3066-vop
      - rockchip,rk3126-vop
      - rockchip,rk3188-vop
      - rockchip,rk3228-vop
      - rockchip,rk3288-vop
      - rockchip,rk3328-vop
      - rockchip,rk3366-vop
      - rockchip,rk3368-vop
      - rockchip,rk3399-vop-big
      - rockchip,rk3399-vop-lit
      - rockchip,rv1126-vop

  reg:
    minItems: 1
    items:
      - 描述:
          必须包含一个条目，对应于寄存器空间的基本地址和长度
- 描述:
          可选地包含第二个条目，对应于CRTC伽马LUT地址
中断:
    maxItems: 1
    描述:
      VOP中断由多个中断源共享，例如帧开始(VSYNC)，行标志和其他状态中断
时钟:
    items:
      - 描述: 用于DDR缓冲区传输的时钟
- 描述: 像素时钟
- 描述: 用于读写PHY寄存器的AHB总线时钟
时钟名称:
    items:
      - 常量: aclk_vop
      - 常量: dclk_vop
      - 常量: hclk_vop

  resets:
    maxItems: 3

  reset-names:
    items:
      - 常量: axi
      - 常量: ahb
      - 常量: dclk

  端口:
    $ref: /schemas/graph.yaml#/properties/port

  assigned-clocks:
    maxItems: 2

  assigned-clock-rates:
    maxItems: 2

  iommus:
    maxItems: 1

  power-domains:
    maxItems: 1

必需:
  - compatible
  - reg
  - interrupts
  - clocks
  - clock-names
  - resets
  - reset-names
  - port

额外属性: false

示例:
  - |
    #include <dt-bindings/clock/rk3288-cru.h>
    #include <dt-bindings/interrupt-controller/arm-gic.h>
    #include <dt-bindings/power/rk3288-power.h>
    vopb: vopb@ff930000 {
      compatible = "rockchip,rk3288-vop";
      reg = <0xff930000 0x19c>,
            <0xff931000 0x1000>;
      interrupts = <GIC_SPI 15 IRQ_TYPE_LEVEL_HIGH>;
      clocks = <&cru ACLK_VOP0>,
               <&cru DCLK_VOP0>,
               <&cru HCLK_VOP0>;
      clock-names = "aclk_vop", "dclk_vop", "hclk_vop";
      power-domains = <&power RK3288_PD_VIO>;
      resets = <&cru SRST_LCDC1_AXI>,
               <&cru SRST_LCDC1_AHB>,
               <&cru SRST_LCDC1_DCLK>;
      reset-names = "axi", "ahb", "dclk";
      iommus = <&vopb_mmu>;
      vopb_out: port {
        #address-cells = <1>;
        #size-cells = <0>;
        vopb_out_edp: endpoint@0 {
          reg = <0>;
          remote-endpoint = <&edp_in_vopb>;
        };
        vopb_out_hdmi: endpoint@1 {
          reg = <1>;
          remote-endpoint = <&hdmi_in_vopb>;
        };
      };
    };
