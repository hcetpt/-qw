# SPDX-许可证标识符: (GPL-2.0-only 或 BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/display/mediatek/mediatek,padding.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

标题: MediaTek 显示填充

维护者:
  - 春光 胡 <chunkuang.hu@kernel.org>
  - 菲利普·扎贝尔 <p.zabel@pengutronix.de>

描述:
  填充提供了一种能力，可以在指定颜色的情况下向图层的宽度和高度添加像素。由于硬件设计，VDOSYS1 中的混合器要求图层的宽度为2像素对齐，或者当启用 ETHDR 时为4像素对齐，我们需要填充来处理奇数宽度。
请注意，即使填充处于旁路模式，寄存器中的设置也必须被清零，否则可能会出现未定义的行为。

属性:
  compatible:
    枚举:
      - mediatek,mt8188-disp-padding
      - mediatek,mt8195-mdp3-padding

  reg:
    最大项数: 1

  power-domains:
    最大项数: 1

  clocks:
    项:
      - 描述: 填充的时钟

  mediatek,gce-client-reg:
    描述:
      GCE（全局命令引擎）是一个多核微处理器，它帮助其客户端执行命令而无需中断 CPU。此属性描述了由4个字段组成的 GCE 客户端信息：
1. GCE 的 phandle（可能存在多个 GCE 处理器）
      2. 在 dt-binding 中定义的子系统 ID，类似于用户 ID
         （请参阅 include/dt-bindings/gce/<芯片>-gce.h）
      3. 您所在的子系统的基地址偏移量
      4. 客户端所需的寄存器大小
    $ref: /schemas/types.yaml#/definitions/phandle-array
    项:
      项:
        - 描述: GCE 的 phandle
        - 描述: 在 dt-binding 中定义的子系统 ID
        - 描述: 子系统的基地址偏移量
        - 描述: 寄存器大小
    最大项数: 1

必需:
  - compatible
  - reg
  - power-domains
  - clocks
  - mediatek,gce-client-reg

额外属性: false

示例:
  - |
    #include <dt-bindings/interrupt-controller/arm-gic.h>
    #include <dt-bindings/clock/mediatek,mt8188-clk.h>
    #include <dt-bindings/power/mediatek,mt8188-power.h>
    #include <dt-bindings/gce/mt8195-gce.h>

    soc {
        #address-cells = <2>;
        #size-cells = <2>;

        padding0: padding@1c11d000 {
            compatible = "mediatek,mt8188-disp-padding";
            reg = <0 0x1c11d000 0 0x1000>;
            clocks = <&vdosys1 CLK_VDO1_PADDING0>;
            power-domains = <&spm MT8188_POWER_DOMAIN_VDOSYS1>;
            mediatek,gce-client-reg = <&gce0 SUBSYS_1c11XXXX 0xd000 0x1000>;
        };
    };
