# SPDX-文件许可人: (GPL-2.0-only 或 BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/display/sprd/sprd,display-subsystem.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

标题: Unisoc DRM 主设备

维护者:
  - Kevin Tang <kevin.tang@unisoc.com>

描述: |
  Unisoc DRM 主设备是一个虚拟设备，用于列出所有
  DPU 设备或其他构成图形子系统的显示接口节点。
  Unisoc 的显示流水线包含以下几个组件，如下所示：
  多个显示控制器及其对应的物理接口。
  对于不同的显示场景，dpu0 和 dpu1 可能绑定到不同的
  编码器。
  例如:
  dpu0 和 dpu1 都绑定到 DSI 实现双路 mipi-dsi 显示；
  dpu0 绑定到 DSI 作为主显示器，而 dpu1 绑定到 DP 作为外接显示器；

          +-----------------------------------------+
          |                                         |
          |                            +---------+  |
  +----+  |   +----+    +---------+    |DPHY/CPHY|  |   +------+
  |    +----->+dpu0+--->+MIPI|DSI +--->+Combo    +----->+Panel0|
  |AXI |  |   +----+    +---------+    +---------+  |   +------+
  |    |  |                  ^                      |
  |    |  |                  |                      |
  |    |  |      +-----------+                      |
  |    |  |      |                                  |
  |APB |  |   +--+-+    +-----------+    +---+      |   +------+
  |    +----->+dpu1+--->+DisplayPort+--->+PHY+--------->+Panel1|
  |    |  |   +----+    +-----------+    +---+      |   +------+
  +----+  |                                         |
          +-----------------------------------------+

属性:
  compatible:
    常量: sprd,display-subsystem

  ports:
    $ref: /schemas/types.yaml#/definitions/phandle-array
    items:
      最大项数: 1
    描述:
      应该包含指向 DPU 设备的显示接口端口的 phandle 列表
必需:
  - compatible
  - ports

附加属性: false

示例:
  - |
    display-subsystem {
        compatible = "sprd,display-subsystem";
        ports = <&dpu_out>;
    };
