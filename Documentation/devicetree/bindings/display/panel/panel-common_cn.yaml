# SPDX-许可证标识符: GPL-2.0
%YAML 1.2
---
$id: http://devicetree.org/schemas/display/panel/panel-common.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

标题: 显示面板的通用属性

维护者:
  - Thierry Reding <thierry.reding@gmail.com>
  - Laurent Pinchart <laurent.pinchart+renesas@ideasonboard.com>

描述: |
  本文件定义了几类显示面板在设备树中通用的属性。它本身并不构成一个设备树绑定规范，而是旨在被设备树绑定引用。
当从面板设备树绑定中引用时，本文件中定义的属性如下所述。面板设备树绑定负责定义每个属性是必需的还是可选的。
属性:
  # 描述性属性
  width-mm:
    描述:
      指定图像显示物理区域的宽度。此属性以毫米为单位并四舍五入到最接近的整数。
  height-mm:
    描述:
      指定图像显示物理区域的高度。此属性以毫米为单位并四舍五入到最接近的整数。
  label:
    描述: |
      标签属性通过适合人类使用的字符串来指定面板的一个象征性的名称。通常包含系统上（例如，作为粘贴标签）或系统文档中（例如，在用户手册中）所指定的名称。
如果不存在这样的名称，并且根据设备树绑定该属性不是必须的，则应省略而不是使用非描述性信息构造。例如，在仅包含单个面板的系统中的LCD面板不应标记为“LCD”，除非该名称在系统上标示或在系统文档中描述性地使用。
  rotation:
    描述:
      显示旋转角度，逆时针方向（0、90、180、270度）
    $ref: /schemas/types.yaml#/definitions/uint32
    枚举: [0, 90, 180, 270]

  # 显示定时
  panel-timing:
    描述:
      大多数显示面板仅支持单一分辨率，并需要特定的显示定时。`panel-timing` 子节点表示这些定时。
    $ref: panel-timing.yaml#

  display-timings:
    描述:
      一些显示面板支持多种分辨率及其不同的定时。
`display-timings` 绑定支持指定多种定时，并可选择性地指定哪一种是原生模式。
    $ref: display-timings.yaml#

  # 连接性
  port:
    $ref: /schemas/graph.yaml#/properties/port

  ddc-i2c-bus:
    $ref: /schemas/types.yaml#/definitions/phandle
    描述:
      有些面板通过I2C兼容总线（如DDC2或E-DDC）暴露EDID信息。对于这类面板，`ddc-i2c-bus` 包含指向连接到该总线的系统I2C控制器的phandle。
无HPD（热插拔检测）:
    类型: 布尔值
    描述:
      本面板应通过HPD（热插拔检测）信号来表明其已准备就绪，但由于该信号未被连接，因此在启动面板时应根据面板规格硬编码最大延迟时间。

HPD-GPIOs:
    最大项目数: 1
    描述:
      如果热插拔检测（HPD）是连接到系统中的GPIO而非专用的HPD引脚，则可以在此处指定该引脚。

# 控制I/O

  # 许多显示面板可通过由GPIO驱动的引脚进行控制。这些控制信号的特性和定时取决于具体设备，并留给面板设备树绑定来指定。然而对于实现了兼容控制信号的面板，以下的GPIO标识符可以使用。
enable-gpios:
    最大项目数: 1
    描述: |
      用于连接至面板使能控制信号的GPIO标识符。使能信号为高电平有效，用于启用面板操作。此属性也可用于实现了低电平有效的电源关闭信号的面板，该信号是使能信号的反相版本。对于低电平有效的使能信号（或高电平有效的电源关闭信号），可以通过反转GPIO标识符的极性标志来支持。
请注意，使能信号仅控制面板的操作，不应与背光使能信号混淆。
reset-gpios:
    最大项目数: 1
    描述:
      用于连接至面板复位控制信号的GPIO标识符
复位信号为低电平有效，在激活期间复位面板内部逻辑。高电平有效的复位信号可以通过反转GPIO标识符的极性标志来支持。
te-gpios:
    最大项目数: 1
    描述:
      用于撕裂效果同步信号的GPIO标识符
撕裂效果信号为高电平有效。低电平有效的信号可以通过反转GPIO标识符的极性标志来支持。

# 电源
  power-supply:
    描述:
      显示面板需要供电。虽然一些面板需要多个电源供应，且面板特定的约束条件规定了电源供应的顺序和定时，但在许多情况下单个电源就足够了，这可能是因为面板只有一个电源轨，或者是因为所有电源轨都可以由同一电源供应。在这种情况下，`power-supply`属性通过一个指向调节器的phandle来指定为面板供电的电源。
### 背光

### 大多数显示面板包含背光。其中一些还通过诸如I2C或DSI等控制总线暴露背光控制器。其他则通过连接到外部背光控制器的GPIO、PWM或其他信号来暴露背光控制。

**backlight:**
    $ref: /schemas/types.yaml#/definitions/phandle
    description:
      对于由外部背光控制器控制背光的面板，此属性包含一个phandle，用于引用该控制器。
      
**dependencies:**
  width-mm: [ height-mm ]
  height-mm: [ width-mm ]

**additionalProperties:** true

..
