# SPDX-许可证标识符: GPL-2.0
%YAML 1.2
---
$id: http://devicetree.org/schemas/display/panel/tpo,tpg110.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

标题: TPO TPG110 面板

维护者:
  - Linus Walleij <linus.walleij@linaro.org>
  - Thierry Reding <thierry.reding@gmail.com>

描述: |+
  此面板驱动程序是一个组件，它充当RGB输出和各种面板之间的中介。
  面板驱动程序在电子上被配置为所需的分辨率和其他属性，并且通过3线SPI接口进行控制。通过SPI与TPG110通信，
  可以发现配置的属性，因此硬件在很大程度上是自我描述的。
+--------+
  SPI -> |  TPO   | -> 物理显示器
  RGB -> | TPG110 |
         +--------+

  如果需要某些电气配置或替代分辨率，可以通过软件控制显示器并通过SPI接口设置。
  该接口还可以调整显示属性，例如伽马校正和某些电气驱动电平。
TPG110 不知道连接的面板的实际尺寸，因此这需要在设备树中指定。
它需要一个GPIO线路来控制其复位线路。
串行协议的线路名称类似于I2C，但该协议不是I2C而是3线SPI。
allOf:
  - $ref: panel-common.yaml#
  - $ref: /schemas/spi/spi-peripheral-props.yaml#

属性:
  compatible:
    oneOf:
      - items:
          - enum:
              - ste,nomadik-nhk15-display
          - const: tpo,tpg110
      - const: tpo,tpg110

  reg:
    maxItems: 1

  grestb-gpios:
    maxItems: 1
    描述: 面板复位GPIO

  spi-3wire: true

  spi-max-frequency:
    const: 3000000

必需:
  - compatible
  - reg
  - grestb-gpios
  - width-mm
  - height-mm
  - spi-3wire
  - spi-max-frequency
  - port

未评估的属性: false

示例:
  - |+
    spi {
      #address-cells = <1>;
      #size-cells = <0>;

      panel: display@0 {
        compatible = "tpo,tpg110";
        reg = <0>;
        spi-3wire;
        /* 最小周期320纳秒 ≒ 3 MHz */
        spi-max-frequency = <3000000>;
        /* 来自数据手册的宽度和高度 */
        width-mm = <116>;
        height-mm = <87>;
        grestb-gpios = <&foo_gpio 5 1>;
        backlight = <&bl>;

        port {
          nomadik_clcd_panel: endpoint {
            remote-endpoint = <&foo>;
          };
        };
      };
    };
