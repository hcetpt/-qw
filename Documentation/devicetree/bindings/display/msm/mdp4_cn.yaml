# SPDX-License-Identifier: (GPL-2.0-only OR BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/display/msm/mdp4.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

标题: Qualcomm Adreno/Snapdragon MDP4 显示控制器

描述: >
  在诸如 MSM8960、APQ8064 和 MSM8660 等片上系统(SoC)中发现的 MDP4 显示控制器
维护者:
  - Rob Clark <robdclark@gmail.com>

属性:
  compatible:
    常量: qcom,mdp4

  clocks:
    最少项数: 6
    最多项数: 6

  clock-names:
    项:
      - 常量: core_clk
      - 常量: iface_clk
      - 常量: bus_clk
      - 常量: lut_clk
      - 常量: hdmi_clk
      - 常量: tv_clk

  reg:
    最多项数: 1

  interrupts:
    最多项数: 1

  iommus:
    最多项数: 4

  ports:
    $ref: /schemas/graph.yaml#/properties/ports
    属性:
      port@0:
        $ref: /schemas/graph.yaml#/properties/port
        描述: LCDC/LVDS

      port@1:
        $ref: /schemas/graph.yaml#/properties/port
        描述: DSI1 Cmd / Video

      port@2:
        $ref: /schemas/graph.yaml#/properties/port
        描述: DSI2 Cmd / Video

      port@3:
        $ref: /schemas/graph.yaml#/properties/port
        描述: 数字电视

  qcom,lcdc-align-lsb:
    类型: 布尔值
    描述: >
      表示对于 LCDC 应使用最低有效位(Least Significant Bit, LSB)对齐
      这仅适用于 18bpp 面板
必需:
  - compatible
  - reg
  - clocks
  - ports

额外属性: false

示例:
  - |
    mdp: mdp@5100000 {
        compatible = "qcom,mdp4";
        reg = <0x05100000 0xf0000>;
        interrupts = <0 75 0>;
        clock-names =
            "core_clk",
            "iface_clk",
            "bus_clk",
            "lut_clk",
            "hdmi_clk",
            "tv_clk";
        clocks =
            <&mmcc 77>,
            <&mmcc 86>,
            <&mmcc 102>,
            <&mmcc 75>,
            <&mmcc 97>,
            <&mmcc 12>;

        ports {
            #address-cells = <1>;
            #size-cells = <0>;

            port@0 {
                reg = <0>;
                mdp_lvds_out: endpoint {
                };
            };

            port@1 {
                reg = <1>;
                mdp_dsi1_out: endpoint {
                };
            };

            port@2 {
                reg = <2>;
                mdp_dsi2_out: endpoint {
                };
            };

            port@3 {
                reg = <3>;
                mdp_dtv_out: endpoint {
                    remote-endpoint = <&hdmi_in>;
                };
            };
        };
    };
