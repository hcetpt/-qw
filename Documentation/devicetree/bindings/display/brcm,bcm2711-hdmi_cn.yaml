# SPDX-许可证标识符: GPL-2.0
%YAML 1.2
---
$id: http://devicetree.org/schemas/display/brcm,bcm2711-hdmi.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

标题: Broadcom BCM2711 HDMI 控制器

维护者:
  - Eric Anholt <eric@anholt.net>

属性:
  compatible:
    枚举:
      - brcm,bcm2711-hdmi0
      - brcm,bcm2711-hdmi1

  reg:
    项:
      - 描述: HDMI 控制器寄存器范围
      - 描述: DVP 寄存器范围
      - 描述: HDMI PHY 寄存器范围
      - 描述: Rate Manager 寄存器范围
      - 描述: Packet RAM 寄存器范围
      - 描述: Metadata RAM 寄存器范围
      - 描述: CSC 寄存器范围
      - 描述: CEC 寄存器范围
      - 描述: HD 寄存器范围

  reg-names:
    项:
      - 常量: hdmi
      - 常量: dvp
      - 常量: phy
      - 常量: rm
      - 常量: packet
      - 常量: metadata
      - 常量: csc
      - 常量: cec
      - 常量: hd

  clocks:
    项:
      - 描述: HDMI 状态机时钟
      - 描述: Pixel BVB 时钟
      - 描述: HDMI 音频父时钟
      - 描述: HDMI CEC 父时钟

  clock-names:
    项:
      - 常量: hdmi
      - 常量: bvb
      - 常量: audio
      - 常量: cec

  interrupts:
    项:
      - 描述: CEC TX 中断
      - 描述: CEC RX 中断
      - 描述: CEC 卡在低电平中断
      - 描述: 唤醒中断
      - 描述: 热插拔连接中断
      - 描述: 热插拔移除中断

  interrupt-names:
    项:
      - 常量: cec-tx
      - 常量: cec-rx
      - 常量: cec-low
      - 常量: wakeup
      - 常量: hpd-connected
      - 常量: hpd-removed

  ddc:
    $ref: /schemas/types.yaml#/definitions/phandle
    描述: >
      用于 DDC EDID 探测的 I2C 控制器的 phandle

  hpd-gpios:
    最大项数: 1
    描述: >
      HDMI 热插拔检测的 GPIO 引脚（如果它不作为中断/状态位出现在 HDMI 控制器本身中）

  dmas:
    最大项数: 1
    描述: >
      应包含一个条目，指向用于传输音频数据的 DMA 通道
  dma-names:
    常量: audio-rx

  resets:
    最大项数: 1

  wifi-2.4ghz-coexistence:
    类型: 布尔值
    描述: >
      是否应避免 WiFi 频率范围内的像素频率？

必需:
  - compatible
  - reg
  - reg-names
  - clocks
  - resets
  - ddc

额外属性: false

示例:
  - |
    hdmi0: hdmi@7ef00700 {
        compatible = "brcm,bcm2711-hdmi0";
        reg = <0x7ef00700 0x300>,
              <0x7ef00300 0x200>,
              <0x7ef00f00 0x80>,
              <0x7ef00f80 0x80>,
              <0x7ef01b00 0x200>,
              <0x7ef01f00 0x400>,
              <0x7ef00200 0x80>,
              <0x7ef04300 0x100>,
              <0x7ef20000 0x100>;
        reg-names = "hdmi",
                    "dvp",
                    "phy",
                    "rm",
                    "packet",
                    "metadata",
                    "csc",
                    "cec",
                    "hd";
        clocks = <&firmware_clocks 13>, <&firmware_clocks 14>, <&dvp 1>, <&clk_27MHz>;
        clock-names = "hdmi", "bvb", "audio", "cec";
        resets = <&dvp 0>;
        ddc = <&ddc0>;
    };

..
