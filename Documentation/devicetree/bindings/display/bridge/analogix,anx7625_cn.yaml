# SPDX-许可证标识符: (GPL-2.0 或 BSD-2-Clause)
# 版权所有 2019 Analogix Semiconductor, Inc
%YAML 1.2
---
$id: http://devicetree.org/schemas/display/bridge/analogix,anx7625.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

标题: Analogix ANX7625 SlimPort (4K 移动高清发射器)

维护者:
  - Xin Ji <xji@analogixsemi.com>

描述: |
  ANX7625 是一款超低功耗的 4K 移动高清发射器，
  专为便携式设备设计。
属性:
  compatible:
    常量: analogix,anx7625

  reg:
    最大项目数: 1

  interrupts:
    描述: 用于中断引脚 B8
    最大项目数: 1

  enable-gpios:
    描述: 用于芯片上电控制，POWER_EN 引脚 D2
    最大项目数: 1

  reset-gpios:
    描述: 用于芯片复位控制，RESET_N 引脚 B7
    最大项目数: 1

  vdd10-supply:
    描述: 提供电源 1.0V 的稳压器
  vdd18-supply:
    描述: 提供电源 1.8V 的稳压器
  vdd33-supply:
    描述: 提供电源 3.3V 的稳压器
  analogix,lane0-swing:
    $ref: /schemas/types.yaml#/definitions/uint8-array
    最小项目数: 1
    最大项目数: 20
    描述:
      用于 DP 发射通道0 PHY 的摆幅寄存器设置数组
      寄存器 0~9 分别是 Swing0_Pre0, Swing1_Pre0, Swing2_Pre0,
      Swing3_Pre0, Swing0_Pre1, Swing1_Pre1, Swing2_Pre1, Swing0_Pre2,
      Swing1_Pre2, Swing0_Pre3, 它们用于 [增强控制] 和
      [摆幅控制] 设置
以下是对提供的英文文本的中文翻译：

寄存器0~9，位3:0为[增强控制]，这些位用于控制光标后的手动增强，增加[增强控制]值可以提高预加重值。

寄存器0~9，位6:4为[摆幅控制]，这些位用于控制摆幅手动设置，增加[摆幅控制]设置可以为每次摆幅增加峰峰值Vp-p。

寄存器10~19分别是Swing0_Pre0、Swing1_Pre0、Swing2_Pre0、Swing3_Pre0、Swing0_Pre1、Swing1_Pre1、Swing2_Pre1、Swing0_Pre2、Swing1_Pre2、Swing0_Pre3，它们用于[R选择控制]和[R终止控制]设置。

寄存器10~19，位4:0为[R选择控制]，这些位是补偿手动设置，增加它可加强IO驱动强度和峰峰值Vp-p。

寄存器10~19，位5:6为[R终止控制]，这些位调整DP发送端50欧姆阻抗。00:55欧姆，01:50欧姆(默认)，10:45欧姆，11:40欧姆。

analogix,lane1-swing:
    $ref: /schemas/types.yaml#/definitions/uint8-array
    minItems: 1
    maxItems: 20
    description:
      DP发送端1通道PHY的摆幅寄存器设置数组
DP TX通道1摆幅寄存器设置与通道0相同，
请参阅lane0-swing属性描述。

analogix,audio-enable:
    类型: 布尔值
    描述: 是否允许驱动启用HDMI音频编解码功能

aux-bus:
    $ref: /schemas/display/dp-aux-bus.yaml#

  端口:
    $ref: /schemas/graph.yaml#/properties/ports

    属性:
      port@0:
        $ref: /schemas/graph.yaml#/$defs/port-base
        不评估其他属性: false
        描述:
          MIPI DSI/DPI输入
属性:
          终端:
            $ref: /schemas/media/video-interfaces.yaml#
            类型: 对象
            不允许其他属性: false

            属性:
              远程终端: true

              总线类型:
                枚举: [7]
                默认值: 1

              数据通道: true

      port@1:
        $ref: /schemas/graph.yaml#/properties/port
        描述:
          面板或连接器的视频端口
这段文本是 Device Tree (设备树) 的描述，用于定义硬件组件及其配置。下面是对这段文本的中文翻译：

```text
所需属性：
  - port@0
  - port@1

必需属性：
  - compatible
  - reg
  - vdd10-supply
  - vdd18-supply
  - vdd33-supply
  - ports

不允许额外属性。

示例：
  - |
    #include <dt-bindings/gpio/gpio.h>

    i2c {
        #address-cells = <1>;
        #size-cells = <0>;

        encoder@58 {
            compatible = "analogix,anx7625";  // 兼容性
            reg = <0x58>;                     // 寄存器地址
            enable-gpios = <&pio 45 GPIO_ACTIVE_HIGH>;  // 启用GPIO
            reset-gpios = <&pio 73 GPIO_ACTIVE_HIGH>;   // 重置GPIO
            vdd10-supply = <&pp1000_mipibrdg>;           // 1.0V电源
            vdd18-supply = <&pp1800_mipibrdg>;           // 1.8V电源
            vdd33-supply = <&pp3300_mipibrdg>;           // 3.3V电源
            analogix,audio-enable;                       // 启用音频
            analogix,lane0-swing = /bits/ 8 <0x14 0x54 0x64 0x74>;  // 车道0摆动控制
            analogix,lane1-swing = /bits/ 8 <0x14 0x54 0x64 0x74>;  // 车道1摆动控制

            ports {                                      // 端口
                #address-cells = <1>;
                #size-cells = <0>;

                mipi2dp_bridge_in: port@0 {              // 输入端口
                    reg = <0>;
                    anx7625_in: endpoint {              // 终端节点
                        remote-endpoint = <&mipi_dsi>;   // 远程终端
                        bus-type = <7>;                 // 总线类型
                        data-lanes = <0 1 2 3>;         // 数据通道
                    };
                };

                mipi2dp_bridge_out: port@1 {             // 输出端口
                    reg = <1>;
                    anx7625_out: endpoint {             // 终端节点
                        remote-endpoint = <&panel_in>;   // 远程终端
                    };
                };
            };

            aux-bus {                                   // 辅助总线
                panel {                                 // 面板
                    compatible = "innolux,n125hce-gn1";  // 兼容性
                    power-supply = <&pp3300_disp_x>;     // 电源供应
                    backlight = <&backlight_lcd0>;       // 背光

                    port {                              // 端口
                        panel_in: endpoint {            // 终端节点
                            remote-endpoint = <&anx7625_out>;  // 远程终端
                        };
                    };
                };
            };
        };
    };
```

请注意，这里的翻译尽量保持了原始 Device Tree 的结构和含义，并将一些专有名词和术语直接保留为英文形式，因为这些通常在技术文档中使用英文表达。
