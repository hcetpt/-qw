# SPDX-文件许可人: GPL-2.0
%YAML 1.2
---
$id: http://devicetree.org/schemas/display/bridge/anx6345.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Analogix ANX6345 eDP 发射器

maintainers:
  - Torsten Duwe <duwe@lst.de>

description: |
  ANX6345 是一款专为便携式设备设计的超低功耗全高清 eDP 发射器。
properties:
  compatible:
    const: analogix,anx6345

  reg:
    maxItems: 1
    description: 设备的基础 I2C 地址

  reset-gpios:
    maxItems: 1
    description: 连接到主动低电平复位的 GPIO

  dvdd12-supply:
    description: 1.2V 数字核心电源的稳压器
  dvdd25-supply:
    description: 2.5V 数字核心电源的稳压器
ports:
    $ref: /schemas/graph.yaml#/properties/ports

    properties:
      port@0:
        $ref: /schemas/graph.yaml#/properties/port
        description:
          LVTTL 输入的视频端口

      port@1:
        $ref: /schemas/graph.yaml#/properties/port
        description:
          视频端口用于 eDP 输出（面板或连接器）
如果 EDID 工作可靠则可以省略
required:
      - port@0

required:
  - compatible
  - reg
  - reset-gpios
  - dvdd12-supply
  - dvdd25-supply
  - ports

additionalProperties: false

examples:
  - |
    i2c {
      #address-cells = <1>;
      #size-cells = <0>;

      anx6345: anx6345@38 {
        compatible = "analogix,anx6345";
        reg = <0x38>;
        reset-gpios = <&pio42 1 /* GPIO_ACTIVE_LOW */>;
        dvdd25-supply = <&reg_dldo2>;
        dvdd12-supply = <&reg_fldo1>;

        ports {
          #address-cells = <1>;
          #size-cells = <0>;

          anx6345_in: port@0 {
            reg = <0>;
            anx6345_in_tcon0: endpoint {
              remote-endpoint = <&tcon0_out_anx6345>;
            };
          };

          anx6345_out: port@1 {
            reg = <1>;
            anx6345_out_panel: endpoint {
              remote-endpoint = <&panel_in_edp>;
            };
          };
        };
      };
    };
