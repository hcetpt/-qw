# SPDX-许可证标识符: (GPL-2.0-only 或 BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/display/arm,malidp.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

标题: Arm Mali 显示处理器 (Mali-DP)

维护者:
  - Liviu Dudau <Liviu.Dudau@arm.com>
  - Andre Przywara <andre.przywara@arm.com>

描述:
  下列绑定适用于由 ARM Ltd. 作为可授权 IP 销售的一系列显示处理器。这些绑定描述了 Mali DP500、DP550 和 DP650 处理器，它们支持多层合成、旋转和输出缩放。
属性:
  compatible:
    枚举:
      - arm,mali-dp500
      - arm,mali-dp550
      - arm,mali-dp650

  reg:
    最大项数: 1

  interrupts:
    项:
      - 描述:
          显示引擎 (DE) 使用的中断。可以与缩放引擎 (SE) 的中断共享，但必须单独列出。
      - 描述:
          缩放引擎 (SE) 使用的中断。可以与显示引擎 (DE) 的中断共享，但必须单独列出。
interrupt-names:
    项:
      - 常量: DE
      - 常量: SE

  clock-names:
    项:
      - 常量: pxlclk
      - 常量: mclk
      - 常量: aclk
      - 常量: pclk

  clocks:
    项:
      - 描述: 供给处理器输出 PLL 的像素时钟
      - 描述: 主处理器时钟
      - 描述: AXI 接口时钟
      - 描述: APB 接口时钟

  memory-region:
    最大项数: 1
    描述:
      指向描述用于帧缓冲区内存的节点的句柄。如果未提供，则帧缓冲区可以在内存中的任何位置。
arm,malidp-output-port-lines:
    $ref: /schemas/types.yaml#/definitions/uint8-array
    描述:
      每个颜色通道的输出线/位数
项:
      - 描述: 红色通道 (R) 的输出线数
      - 描述: 绿色通道 (G) 的输出线数
      - 描述: 蓝色通道 (B) 的输出线数

  arm,malidp-arqos-value:
    $ref: /schemas/types.yaml#/definitions/uint32
    描述:
      显示引擎 FIFO 的服务质量值，用于写入 DP500 的 RQOS 寄存器
有关编码详情，请参阅 ARM Mali-DP500 TRM。如果省略，RQOS 寄存器将不会被更改。
port:
    $ref: /schemas/graph.yaml#/properties/port
    未评估属性: false
    描述:
      控制器的输出端点，连接到 LCD 面板信号
这段文本描述了一个设备树节点配置，用于硬件组件的定义。下面是中文翻译：

`additionalProperties: false`

`required:`  
 `- compatible`  
 `- reg`  
 `- interrupts`  
 `- interrupt-names`  
 `- clocks`  
 `- clock-names`  
 `- port`  
 `- arm,malidp-output-port-lines`

`examples:`  
 `- |`  
   `dp0: malidp@6f200000 {`  
     `compatible = "arm,mali-dp650";`  
     `reg = <0x6f200000 0x20000>;`  
     `memory-region = <&display_reserved>;`  
     `interrupts = <168>, <168>;`  
     `interrupt-names = "DE", "SE";`  
     `clocks = <&oscclk2>, <&fpgaosc0>, <&fpgaosc1>, <&fpgaosc1>;`  
     `clock-names = "pxlclk", "mclk", "aclk", "pclk";`  
     `arm,malidp-output-port-lines = /bits/ 8 <8 8 8>;`  
     `arm,malidp-arqos-value = <0xd000d000>;`  

     `port {`  
       `dp0_output: endpoint {`  
         `remote-endpoint = <&tda998x_2_input>;`  
       `};`  
     `};`  
   `};`

---

**说明：**

- `additionalProperties: false`: 表示不允许有额外未定义的属性。
- `required:` 列出了必需的字段。
- 在示例中定义了一个名为 `dp0` 的设备树节点，其地址为 `0x6f200000`。
- `compatible = "arm,mali-dp650";` 指定了与该设备兼容的字符串。
- `reg = <0x6f200000 0x20000>;` 定义了设备的寄存器空间大小和基地址。
- `memory-region = <&display_reserved>;` 引用了一个预定义的内存区域。
- `interrupts` 和 `interrupt-names` 分别指定了中断号及其名称。
- `clocks` 和 `clock-names` 定义了时钟源及其对应的名称。
- `arm,malidp-output-port-lines = /bits/ 8 <8 8 8>;` 指定输出端口线的数量。
- `arm,malidp-arqos-value = <0xd000d000>;` 定义了一个特定值。
- 最后定义了一个端口，并在其中指定了远程端点。
