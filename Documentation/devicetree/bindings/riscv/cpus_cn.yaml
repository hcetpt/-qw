以下是文档的中文翻译：

# SPDX-许可证标识符: (GPL-2.0 或 MIT)
%YAML 1.2
---
$id: http://devicetree.org/schemas/riscv/cpus.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

标题: RISC-V 处理器

维护者:
  - Paul Walmsley <paul.walmsley@sifive.com>
  - Palmer Dabbelt <palmer@sifive.com>
  - Conor Dooley <conor@kernel.org>

描述: |
  本文件使用了一些 RISC-V 社区中常用但并非广泛使用的术语，其定义如下：

  hart: 硬件执行上下文，包含 RISC-V 指令集架构要求的所有状态：程序计数器（PC）和一些寄存器。这种术语旨在区分软件视角中的执行上下文与任何特定微架构实现策略。例如，一台包含一个插槽、两个核心且每个核心有两个超线程的英特尔笔记本电脑可以被描述为拥有四个 hart。
allOf:
  - $ref: /schemas/cpu.yaml#
  - $ref: extensions.yaml

属性:
  compatible:
    oneOf:
      - items:
          - enum:
              - amd,mbv32
              - andestech,ax45mp
              - canaan,k210
              - sifive,bullet0
              - sifive,e5
              - sifive,e7
              - sifive,e71
              - sifive,rocket0
              - sifive,s7
              - sifive,u5
              - sifive,u54
              - sifive,u7
              - sifive,u74
              - sifive,u74-mc
              - thead,c906
              - thead,c908
              - thead,c910
              - thead,c920
          - const: riscv
      - items:
          - enum:
              - sifive,e51
              - sifive,u54-mc
          - const: sifive,rocket0
          - const: riscv
      - const: riscv    # 仅模拟器
    description:
      标识 hart 使用 RISC-V 指令集并标识 hart 的类型
mmu-type:
    description:
      标识此 hart 支持的最大 MMU 地址转换模式。这些值源自 RISC-V 特权规范文档，可从 https://riscv.org/specifications/ 获取
    $ref: /schemas/types.yaml#/definitions/string
    enum:
      - riscv,sv32
      - riscv,sv39
      - riscv,sv48
      - riscv,sv57
      - riscv,none

  reg:
    description:
      此 CPU 节点的 hart ID
riscv,cbom-block-size:
    $ref: /schemas/types.yaml#/definitions/uint32
    description:
      用于 Zicbom 缓存操作的块大小（以字节为单位）
riscv,cbop-block-size:
    $ref: /schemas/types.yaml#/definitions/uint32
    description:
      用于 Zicbop 缓存操作的块大小（以字节为单位）
riscv,cboz-block-size:
    $ref: /schemas/types.yaml#/definitions/uint32
    description:
      用于 Zicboz 缓存操作的块大小（以字节为单位）
# RISC-V 有多个缓存操作块大小的属性，因为不同 CBO 扩展之间的大小不同
  cache-op-block-size: false
  # RISC-V 需要在 /cpus 中设置 'timebase-frequency'，因此在此处禁止
  timebase-frequency: false

  interrupt-controller:
    类型: 对象
    additionalProperties: false
    description: 描述 CPU 的本地中断控制器

    属性:
      '#interrupt-cells':
        const: 1

      compatible:
        oneOf:
          - items:
              - const: andestech,cpu-intc
              - const: riscv,cpu-intc
          - const: riscv,cpu-intc

      interrupt-controller: true

    必需:
      - '#interrupt-cells'
      - compatible
      - interrupt-controller

  cpu-idle-states:
    $ref: /schemas/types.yaml#/definitions/phandle-array
    items:
      maxItems: 1
    description: |
      支持此 hart 的空闲状态节点的句柄列表
      （参见 ./idle-states.yaml）
capacity-dmips-mhz:
    description:
      u32 值表示 CPU 容量（参见 ../cpu/cpu-capacity.txt），单位为 DMIPS/MHz，
      相对于系统中最高的 capacity-dmips-mhz
anyOf:
  - required:
      - riscv,isa
  - required:
      - riscv,isa-base

依赖项:
  riscv,isa-base: [ "riscv,isa-extensions" ]
  riscv,isa-extensions: [ "riscv,isa-base" ]

必需:
  - interrupt-controller

未评估属性: false

示例:
  - |
    // 示例 1: SiFive Freedom U540G 开发套件
    cpus {
        #address-cells = <1>;
        #size-cells = <0>;
        timebase-frequency = <1000000>;
        cpu@0 {
                clock-frequency = <0>;
                compatible = "sifive,rocket0", "riscv";
                device_type = "cpu";
                i-cache-block-size = <64>;
                i-cache-sets = <128>;
                i-cache-size = <16384>;
                reg = <0>;
                riscv,isa-base = "rv64i";
                riscv,isa-extensions = "i", "m", "a", "c";

                cpu_intc0: interrupt-controller {
                        #interrupt-cells = <1>;
                        compatible = "riscv,cpu-intc";
                        interrupt-controller;
                };
        };
        cpu@1 {
                clock-frequency = <0>;
                compatible = "sifive,rocket0", "riscv";
                d-cache-block-size = <64>;
                d-cache-sets = <64>;
                d-cache-size = <32768>;
                d-tlb-sets = <1>;
                d-tlb-size = <32>;
                device_type = "cpu";
                i-cache-block-size = <64>;
                i-cache-sets = <64>;
                i-cache-size = <32768>;
                i-tlb-sets = <1>;
                i-tlb-size = <32>;
                mmu-type = "riscv,sv39";
                reg = <1>;
                tlb-split;
                riscv,isa-base = "rv64i";
                riscv,isa-extensions = "i", "m", "a", "f", "d", "c";

                cpu_intc1: interrupt-controller {
                        #interrupt-cells = <1>;
                        compatible = "riscv,cpu-intc";
                        interrupt-controller;
                };
        };
    };

  - |
    // 示例 2: Spike ISA 模拟器，含 1 个 hart
    cpus {
        #address-cells = <1>;
        #size-cells = <0>;
        cpu@0 {
                device_type = "cpu";
                reg = <0>;
                compatible = "riscv";
                mmu-type = "riscv,sv48";
                riscv,isa-base = "rv64i";
                riscv,isa-extensions = "i", "m", "a", "f", "d", "c";

                interrupt-controller {
                        #interrupt-cells = <1>;
                        interrupt-controller;
                        compatible = "riscv,cpu-intc";
                };
        };
    };
..
