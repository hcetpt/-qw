# SPDX-许可证标识符: (GPL-2.0-only 或 BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/mfd/netronix,ntxec.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

标题: Netronix 嵌入式控制器

维护者:
  - Jonathan Neuschäfer <j.neuschaefer@gmx.net>

描述: |
  此 EC 存在于多个品牌的电子书阅读器中（例如 Kobo、Tolino），并且
  通常实现为 TI MSP430 微控制器。
属性:
  compatible:
    常量: netronix,ntxec

  reg:
    项目:
      - 描述: EC 的 I2C 地址

  system-power-controller:
    类型: 布尔值
    描述: 参见 Documentation/devicetree/bindings/power/power-controller.txt

  interrupts:
    最小项数: 1
    描述:
      EC 可以通过 GPIO 线发送中断信号

  "#pwm-cells":
    常量: 2
    描述: |
      PWM 规定中的单元格数量
      支持以下 PWM 通道：
        - 0: 由寄存器 0xa1-0xa7 控制的 PWM 通道

必需:
  - compatible
  - reg

额外属性: false

示例:
  - |
    #include <dt-bindings/interrupt-controller/irq.h>
    i2c {
            #address-cells = <1>;
            #size-cells = <0>;

            ec: embedded-controller@43 {
                    pinctrl-names = "default";
                    pinctrl-0 = <&pinctrl_ntxec>;

                    compatible = "netronix,ntxec";
                    reg = <0x43>;
                    system-power-controller;
                    interrupt-parent = <&gpio4>;
                    interrupts = <11 IRQ_TYPE_EDGE_FALLING>;
                    #pwm-cells = <2>;
            };
    };

    backlight {
            compatible = "pwm-backlight";
            pwms = <&ec 0 50000>;
            power-supply = <&backlight_regulator>;
    };

    backlight_regulator: regulator-dummy {
            compatible = "regulator-fixed";
            regulator-name = "backlight";
    };
