# SPDX-许可证标识符: GPL-2.0-only 或 BSD-2-Clause
%YAML 1.2
---
$id: http://devicetree.org/schemas/mfd/brcm,twd.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

标题: Broadcom 的定时器-看门狗（简称 TWD）

维护者:
  - Rafał Miłecki <rafal@milecki.pl>

描述: |
  Broadcom 在多个系统级芯片中使用了一种定时器-看门狗模块（例如，BCM4908、BCM63xx、BCM7038）。
  存在几种不同的变体（它们在寄存器布局上略有不同）。此模块包括：定时器、看门狗以及可选的软件复位处理程序。

属性:
  compatible:
    项:
      - 枚举:
          - brcm,bcm4908-twd
          - brcm,bcm7038-twd
      - 常量: simple-mfd
      - 常量: syscon

  reg:
    最大项数: 1

  ranges: 真

  "#address-cells":
    常量: 1

  "#size-cells":
    常量: 1

模式属性:
  '^timer@[a-f0-9]+$':
    $ref: /schemas/timer/brcm,bcmbca-timer.yaml

  '^watchdog@[a-f0-9]+$':
    $ref: /schemas/watchdog/brcm,bcm7038-wdt.yaml

其他属性: 假

必需:
  - reg

示例:
  - |
    timer-mfd@ff800400 {
        compatible = "brcm,bcm4908-twd", "simple-mfd", "syscon";
        reg = <0xff800400 0x4c>;
        ranges = <0x00000000 0xff800400 0x4c>;

        #address-cells = <1>;
        #size-cells = <1>;

        timer@0 {
            compatible = "brcm,bcm63138-timer";
            reg = <0x0 0x28>;
        };

        watchdog@28 {
            compatible = "brcm,bcm7038-wdt";
            reg = <0x28 0x8>;
        };
    };
