# SPDX-许可证标识符: GPL-2.0-only 或 BSD-2-Clause
%YAML 1.2
---
$id: http://devicetree.org/schemas/mfd/rockchip,rk805.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

标题: RK805 电源管理集成电路

维护者:
  - Chris Zhong <zyw@rock-chips.com>
  - Zhang Qing <zhangqing@rock-chips.com>

描述: |
  Rockchip RK805 系列 PMIC。此设备包含一个由 I²C 控制的多功能设备 (MFD)，其中包括多个可切换的稳压器。
属性:
  compatible:
    枚举:
      - rockchip,rk805

  reg:
    最大项数: 1

  interrupts:
    最大项数: 1

  '#clock-cells':
    描述:
      参见 <dt-bindings/clock/rockchip,rk808.h> 获取时钟 ID
minimum: 0
    最大值: 1

  clock-output-names:
    描述:
      从通用时钟绑定覆盖默认的输出时钟名称
gpio-controller: true

  '#gpio-cells':
    常量: 2

  rockchip,system-power-controller:
    类型: 布尔
    过时: true
    描述:
      指示此 PMIC 是否控制系统的电源
system-power-controller: true

  wakeup-source:
    类型: 布尔
    描述:
      设备可以作为唤醒源使用
vcc1-supply:
    描述:
      DCDC_REG1 的输入电源
vcc2-supply:
    描述:
      DCDC_REG2 的输入电源
vcc3-supply:
    描述:
      DCDC_REG3 的输入电源
vcc4-supply:
    描述:
      DCDC_REG4 的输入电源
vcc5-supply:
    描述:
      LDO_REG1 和 LDO_REG2 的输入电源
The provided text describes a Device Tree (DT) fragment for configuring power management and regulators in a Rockchip RK805 Power Management IC (PMIC). Below is a translation of the key components into Chinese, with an emphasis on the `vcc6-supply` part.

### 描述
- `vcc6-supply`: 
  - **描述**: 作为LDO_REG3低压差稳压器的输入电源。

### 监管器配置
- **类型**: 对象
- **模式属性**:
  - `"^(DCDC_REG[1-4]|LDO_REG[1-3])$"`:
    - 类型: 对象
    - 引用: `/schemas/regulator/regulator.yaml#`
    - 不允许未评估的属性: `false`

### 全部内容
- **如果**:
  - 属性:
    - `#clock-cells`:
      - 常量: `0`
- **则**:
  - 属性:
    - `clock-output-names`:
      - 最大项目数: `1`
- **否则**:
  - 属性:
    - `clock-output-names`:
      - 最大项目数: `2`

### 必须包含
- `compatible`
- `reg`
- `interrupts`
- `#clock-cells`

### 示例
```yaml
# 包含设备树绑定
#include <dt-bindings/pinctrl/rockchip.h>
#include <dt-bindings/interrupt-controller/irq.h>
#include <dt-bindings/gpio/gpio.h>

i2c {
    #address-cells = <1>;
    #size-cells = <0>;

    pmic@18 {
        compatible = "rockchip,rk805";
        reg = <0x18>;
        interrupt-parent = <&gpio2>;
        interrupts = <RK_PA6 IRQ_TYPE_LEVEL_LOW>;
        pinctrl-names = "default";
        pinctrl-0 = <&pmic_int_l>;
        rockchip,system-power-controller;
        wakeup-source;
        #clock-cells = <0>;

        vcc1-supply = <&vcc_sys>;
        vcc2-supply = <&vcc_sys>;
        vcc3-supply = <&vcc_sys>;
        vcc4-supply = <&vcc_sys>;
        vcc5-supply = <&vcc_io>;
        vcc6-supply = <&vcc_io>;  // VCC6供电为VCC_IO

        regulators {
            vdd_logic: DCDC_REG1 { ... };
            vdd_arm: DCDC_REG2 { ... };
            vcc_ddr: DCDC_REG3 { ... };
            vcc_io: DCDC_REG4 { ... };
            vdd_18: LDO_REG1 { ... };
            vcc18_emmc: LDO_REG2 { ... };
            vdd_11: LDO_REG3 { ... };
        };
    };
};
```

### 注释
- `vcc6-supply = <&vcc_io>;` 表示VCC6供电源为VCC_IO。
- `regulators` 部分定义了各个电压调节器的配置，包括名称、最小和最大微伏值等。
