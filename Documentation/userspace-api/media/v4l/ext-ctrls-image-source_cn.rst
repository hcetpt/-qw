.. 许可证标识符: GFDL-1.1-no-invariants-or-later

.. _图像源控制:

*******************************
图像源控制参考
*******************************

图像源控制类旨在对图像源设备（如图像传感器）进行低级控制。这些设备具有模数转换器和总线发射器，用于将图像数据从设备中传输出去。
.. _图像源控制ID:

图像源控制ID
========================

``V4L2_CID_IMAGE_SOURCE_CLASS (类)``
    图像源类描述符
``V4L2_CID_VBLANK (整数)``
    垂直消隐。每一帧之后的空闲期间，在此期间不生成图像数据。垂直消隐的单位是一行。
每一行的长度为图像宽度加上由同一子设备中的``V4L2_CID_PIXEL_RATE``控制定义的像素率下的水平消隐。
``V4L2_CID_HBLANK (整数)``
    水平消隐。每行图像数据之后的空闲期间，在此期间不生成图像数据。水平消隐的单位是像素。
``V4L2_CID_ANALOGUE_GAIN (整数)``
    模拟增益是影响像素矩阵中所有颜色分量的增益。增益操作在模数转换之前在模拟域中执行。
``V4L2_CID_TEST_PATTERN_RED (整数)``
    测试图案红色分量
``V4L2_CID_TEST_PATTERN_GREENR (整数)``
    测试图案绿色（紧邻红色）分量
``V4L2_CID_TEST_PATTERN_BLUE (整数)``
    测试图案蓝色分量
``V4L2_CID_TEST_PATTERN_GREENB (整数)``
    测试图案绿色（紧邻蓝色）分量
``V4L2_CID_UNIT_CELL_SIZE (结构体)``
此控制返回以纳米为单位的单元格大小。结构体 :c:type:`v4l2_area` 提供了宽度和高度的单独字段，以便考虑非对称像素。
此控制不考虑任何可能的硬件合并（binning）。
单元格包括像素的整个区域，包括敏感部分和非敏感部分。
此控制对于传感器/相机的自动校准是必需的。

.. c:type:: v4l2_area

.. flat-table:: struct v4l2_area
    :header-rows:  0
    :stub-columns: 0
    :widths:       1 1 2

    * - __u32
      - ``width``
      - 区域的宽度
    * - __u32
      - ``height``
      - 区域的高度

``V4L2_CID_NOTIFY_GAINS (整数数组)``
传感器被通知后续处理（如ISP）将应用于不同颜色通道的增益值。传感器只是被告知这些值，以防其自身在进行需要这些值的处理时使用，但不会自行将这些增益值应用于输出像素。
目前此控制仅定义于拜耳（Bayer）传感器，并且是一个数组控制，包含4个增益值，分别对应每个拜耳通道。增益值始终按 B、Gb、Gr 和 R 的顺序排列，无论传感器本身的拜耳顺序如何。
使用数组形式允许此控制扩展到例如非拜耳彩色滤镜阵列（CFAs）的传感器。
增益值的单位为线性，默认值表示精确的1.0增益。例如，如果报告的默认值为128，则192表示精确的1.5增益。
当然，请提供您需要翻译的文本。
