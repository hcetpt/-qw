SPDX 许可证标识符: GPL-2.0

=========================================
MediaTek MT6370 的 RGB LED 设备
=========================================

描述
-----------

MT6370 集成了一个四通道的 RGB LED 驱动器，设计用于为移动设备应用提供各种照明效果。RGB LED 设备包括一个智能 LED 串控制器，并且可以驱动三个通道的 LED，每个通道的拉电流最高可达 24mA，还有一个 CHG_VIN 电源良好指示 LED，其拉电流最高可达 6mA。它为 RGB LED 提供了三种工作模式：PWM 调光模式、呼吸模式和恒流模式。该设备可以通过 I2C 接口增加或减少 RGB LED 的亮度。
呼吸模式可以通过“pattern”触发器设置，使用 hw_pattern 属性
/sys/class/leds/<led>/hw_pattern
--------------------------------

为 MT6370 RGB LED 指定硬件呼吸模式
呼吸模式是一系列时间对，其中保持时间以毫秒表示。亮度由 '/sys/class/leds/<led>/brightness' 控制。模式不包含亮度设置。硬件模式仅根据当前亮度设置控制每个模式阶段的时间。
模式图示::

         "0 Tr1 0 Tr2 0 Tf1 0 Tf2 0 Ton 0 Toff" --> '0' 表示虚拟亮度代码

          ^
          |           ============
          |          /            \                                /
    Icurr |         /              \                              /
          |        /                \                            /
          |       /                  \                          /   .....重复
          |      /                    \                        /
          |   ---                      ---                  ---
          |---                            ---            ---
          +----------------------------------============------------> 时间
          < Tr1><Tr2><   Ton    ><Tf1><Tf2 ><  Toff    >< Tr1><Tr2>

时间描述：

  * Tr1:    从 0% 到 30% 负载的第一上升时间
* Tr2:    从 31% 到 100% 负载的第二上升时间
* Ton:    100% 负载时的开启时间
* Tf1:    从 100% 到 31% 负载的第一下降时间
* Tf2:    从 30% 到 0% 负载的第二下降时间
* Toff:   0% 负载时的关闭时间
* Tr1/Tr2/Tf1/Tf2/Ton: 125毫秒到3125毫秒，每步200毫秒
* Toff: 250毫秒到6250毫秒，每步400毫秒
模式示例：

       "0 125 0 125 0 125 0 125 0 625 0 1050"

这将配置Tr1/Tr2/Tf1/Tf2为125毫秒，Ton为625毫秒，Toff为1050毫秒。
