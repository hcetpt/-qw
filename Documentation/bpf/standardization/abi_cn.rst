.. contents::
.. sectnum::

===================================================
BPF ABI 推荐的规范和指南版本 1.0
===================================================

这是版本 1.0 的信息文档，其中包含推荐的规范和指导原则，用于生成可移植的 BPF 程序二进制文件。

寄存器和调用约定
==================

BPF 拥有 10 个通用寄存器以及一个只读帧指针寄存器，所有这些寄存器都是 64 位宽。
BPF 调用约定定义如下：

* R0：函数调用的返回值，同时也是 BPF 程序的退出值。
* R1 - R5：函数调用的参数。
* R6 - R9：被调用者保存的寄存器，函数调用将保持这些寄存器不变。
* R10：只读帧指针，用于访问堆栈。

R0 - R5 是临时寄存器，如果需要的话，BPF 程序必须在调用前后将它们的内容存入或取出。
BPF 程序在执行 ``EXIT`` 前必须将返回值存储到寄存器 R0 中。
