================================================================
Linux 操作系统的 WDT 看门狗定时器接口
================================================================

最后审查日期：2007年10月5日

Alan Cox <alan@lxorguk.ukuu.org.uk>

- ICS WDT501-P
- ICS WDT501-P（无风扇转速计）
- ICS WDT500-P

所有这些接口都提供 `/dev/watchdog`，当打开后，必须在超时时间内写入数据，否则机器将会重启。每次写入都会将重启时间延迟一个超时周期。对于软件看门狗来说，重启的能力取决于机器的状态和中断情况。硬件板卡通过其自身的板载定时器物理地将机器关闭，并且几乎可以从任何状态重启。

ICS WDT501P 卡上还有一个温度监控接口，该接口提供 `/dev/temperature`。这是机器内部的温度，单位为华氏度。每次读取都会返回一个字节表示温度。

第三个接口用于记录内核消息，在额外的警报事件中记录信息。

ICS ISA 总线 wdt 卡无法安全探测。相反，您需要传递 I/O 地址和 IRQ 启动参数。例如： 

```
wdt.io=0x240 wdt.irq=11
```

其他 "wdt" 驱动程序参数包括：

=============  =======================================================
heartbeat      看门狗心跳间隔（默认为60秒）
nowayout       一旦启动，看门狗不能被停止（内核构建参数）
tachometer     WDT501-P 风扇转速计支持（0=禁用，默认值为0）
type           WDT501-P 卡类型（500或501，默认为500）
=============  =======================================================

特性
------

================   =======   =======
              WDT501P    WDT500P
================   =======   =======
重启定时器        X         X
外部重启          X         X
I/O端口监控       o         o
温度监控          X         o
风扇速度          X         o
欠压监控          X         o
过压监控          X         o
过热监控          X         o
================   =======   =======

目前不支持 WDT 板上的外部事件接口。
但是已经为其分配了次要编号。

示例看门狗驱动程序：

请参阅 `samples/watchdog/watchdog-simple.c`
