SPDX 许可证标识符: GPL-2.0

====================
全局文件系统 2
====================

GFS2 是一个集群文件系统。它允许一组计算机同时使用它们之间共享的块设备（通过光纤通道（FC）、互联网小型计算机系统接口（iSCSI）、网络块设备（NBD）等）。GFS2 像本地文件系统一样读写块设备，但还使用锁模块来让这些计算机协调其输入输出操作，以保持文件系统的一致性。GFS2 的一个很酷的特点是完美一致性——在一台机器上对文件系统的更改会立即显示在集群中的所有其他机器上。GFS2 使用可互换的节点间锁定机制，当前支持的机制包括：

  lock_nolock
    - 允许将 GFS2 用作本地文件系统

  lock_dlm
    - 使用分布式锁管理器（dlm）进行节点间锁定
dlm 位于 linux/fs/dlm/

lock_dlm 依赖于上述网址中提供的用户空间集群管理系统
要将 GFS2 作为本地文件系统使用，不需要外部集群系统，只需执行以下命令即可：

  $ mkfs -t gfs2 -p lock_nolock -j 1 /dev/block_device
  $ mount -t gfs2 /dev/block_device /dir

所有集群节点都需要安装 gfs2-utils 包，并且对于 lock_dlm，您还需要按照文档配置 dlm 和 corosync 用户空间工具
gfs2-utils 可从 https://pagure.io/gfs2-utils 获取

GFS2 与之前的 GFS 版本不兼容，但非常接近
以下手册页可从 gfs2-utils 中获取：

  ============		=============================================
  fsck.gfs2		用于修复文件系统
  gfs2_grow		在线扩展文件系统
  gfs2_jadd		在线向文件系统添加日志
  tunegfs2		用于管理和调整文件系统
  gfs2_convert		将 GFS 文件系统就地转换为 GFS2
  mkfs.gfs2		创建文件系统
  ============		=============================================
