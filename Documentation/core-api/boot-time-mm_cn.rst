启动时内存管理
===========================

早期系统初始化无法使用“常规”的内存管理，因为此时它尚未设置好。但仍然需要为各种数据结构分配内存，例如为物理页分配器分配内存。
一个名为“memblock”的专门分配器执行启动时的内存管理。架构特定的初始化必须在 :c:func:`setup_arch` 中设置，并在 :c:func:`mem_init` 函数中取消设置。
一旦早期内存管理可用，它提供了一系列用于内存分配的函数和宏。分配请求可以指向第一个（可能是唯一的）节点或 NUMA 系统中的特定节点。存在当分配失败时引发恐慌的 API 变体以及不会引发恐慌的变体。

Memblock 概览
=================

.. kernel-doc:: mm/memblock.c
   :doc: memblock 概览

函数与结构
========================

以下是 memblock 数据结构、函数和宏的描述。其中一些实际上是内部的，但由于它们已被记录下来，忽略它们将很愚蠢。此外，阅读内部函数的描述有助于理解底层实际发生的情况。
.. kernel-doc:: include/linux/memblock.h
.. kernel-doc:: mm/memblock.c
   :functions:
