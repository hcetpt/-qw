CMA3000-D0x 加速度计
=========================

支持的芯片：
* VTI CMA3000-D0x

数据手册：
  CMA3000-D0X 产品系列规格书 8281000A.02.pdf
  <http://www.vti.fi/en/>

作者：Hemanth V <hemanthv@ti.com>

描述
-----------

CMA3000 三轴加速度计支持运动检测、测量和自由落体模式。
运动检测模式：
    这是一种低功耗模式，只有在运动超过定义的阈值时才会生成中断。
测量模式：
    此模式用于读取 X、Y、Z 轴的加速度数据，并支持 400 Hz、100 Hz 和 40 Hz 的采样频率。
自由落体模式：
    此模式旨在节省系统资源。
阈值：
    芯片支持为上述模式定义阈值，包括时间和 g 值。更多详情请参阅产品规格书。
CMA3000 芯片支持互斥的 I2C 和 SPI 接口进行通信，目前驱动仅支持基于 I2C 的通信。
总线模式的初始配置设置在非易失性内存中，之后可以通过总线接口命令进行修改。
驱动通过输入子系统报告加速度数据。当检测到自由落体时，它会生成 ABS_MISC 事件，值为 1。
平台数据需要配置初始默认值。

平台数据
-------------

fuzz_x：
    X 轴噪声

fuzz_y：
    Y 轴噪声

fuzz_z：
    Z 轴噪声

g_range：
    g 范围（毫 g），例如 2000 或 8000

mode：
    默认工作模式

mdthr：
    运动检测 g 范围阈值

mdfftmr：
    运动检测和自由落体时间阈值

ffthr：
    自由落体 g 范围阈值

输入接口
---------------

输入驱动版本：1.0.0
输入设备 ID：总线 0x18 厂商 0x0 产品 0x0 版本 0x0
输入设备名称：“cma3000-accelerometer”

支持的事件：

  事件类型 0（同步）
  事件类型 3（绝对值）
    事件代码 0（X 轴）
      值     47
      最小值 -8000
      最大值  8000
      噪声   200
    事件代码 1（Y 轴）
      值    -28
      最小值 -8000
      最大值  8000
      噪声   200
    事件代码 2（Z 轴）
      值    905
      最小值 -8000
      最大值  8000
      噪声   200
    事件代码 40（其他）
      值      0
      最小值   0
      最大值   1
  事件类型 4（其他）

寄存器/平台参数描述
----------------------------------------

mode：

    0：电源关闭模式
    1：100 Hz 测量模式
    2：400 Hz 测量模式
    3：40 Hz 测量模式
    4：运动检测模式（默认）
    5：100 Hz 自由落体模式
    6：40 Hz 自由落体模式
    7：电源关闭模式

g_range：

    2000：2000 毫 g 或 2G 范围
    8000：8000 毫 g 或 8G 范围

mdthr：

    X：X * 71 毫 g（8G 范围）
    X：X * 18 毫 g（2G 范围）

mdfftmr：

    X：(X & 0x70) * 100 ms （MDTMR）
       (X & 0x0F) * 2.5 ms （FFTMR 400 Hz）
       (X & 0x0F) * 10 ms （FFTMR 100 Hz）

ffthr：

    X：(X >> 2) * 18 毫 g（2G 范围）
    X：(X & 0x0F) * 71 毫 g（8G 范围）
